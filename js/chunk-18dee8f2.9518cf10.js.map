{"version":3,"sources":["webpack:///./src/common/threejs/luggageDecalSplatter/luggageDecalSplatter.vue?10f0","webpack:///./src/common/threejs/luggageDecalSplatter/luggageDecalSplatter.vue?ea29","webpack:///./src/common/threejs/luggageDecalSplatter/luggageDecalSplatter.vue","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./src/common/threejs/luggageDecalSplatter/luggageDecalSplatter.vue?a7fb","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./src/common/loadingDataProgress/loadingDataProgress.vue?af41","webpack:///src/common/loadingDataProgress/loadingDataProgress.vue","webpack:///./src/common/loadingDataProgress/loadingDataProgress.vue?e1b2","webpack:///./src/common/loadingDataProgress/loadingDataProgress.vue","webpack:///src/common/threejs/luggageDecalSplatter/luggageDecalSplatter.vue","webpack:///./node_modules/three/examples/jsm/geometries/DecalGeometry.js","webpack:///./node_modules/three/examples/jsm/libs/dat.gui.module.js","webpack:///./src/common/loadingDataProgress/loadingDataProgress.vue?6a84"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_m","_v","_e","showMore","_l","index","key","on","changeCurrentDecal","$event","containerMouseDown","containerMouseUp","onTouchMove","progressingBar","staticRenderFns","component","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","p","String","rf","f","undefined","unsafe","$","repeat","target","proto","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","setInternalState","set","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","constructor","indexOf","replace","result","proxy","configurable","get","it","keys","length","style","width","DecalGeometry","mesh","position","orientation","size","vertices","normals","uvs","plane","projectorMatrix","makeRotationFromEuler","setPosition","projectorMatrixInverse","generate","i","geometry","decalVertices","vertex","normal","isGeometry","fromGeometry","copy","positionAttribute","attributes","normalAttribute","count","fromBufferAttribute","getX","pushDecalVertex","clipGeometry","decalVertex","push","x","y","applyMatrix4","z","matrixWorld","transformDirection","DecalVertex","clone","inVertices","outVertices","s","Math","abs","dot","v1Out","v2Out","v3Out","nV1","nV2","nV3","nV4","total","d1","d2","d3","clip","v0","v1","d0","s0","v","invert","setAttribute","Object","create","___$insertStyle","css","window","document","createElement","innerHTML","head","appendChild","colorToString","color","forceCSSHex","colorFormat","__state","conversionName","toString","r","round","g","b","a","h","toFixed","str","hex","ARR_EACH","Array","forEach","ARR_SLICE","slice","Common","BREAK","extend","each","arguments","obj","isObject","isUndefined","bind","defaults","compose","toCall","args","apply","itr","scope","l","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","delayed","callNow","clearTimeout","toArray","isNull","isNaN","_isNaN","isArray","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","read","original","test","match","space","parseInt","write","SIX_CHAR_HEX","CSS_RGB","parseFloat","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","hi","floor","q","t","c","rgb_to_hsv","min","max","delta","NaN","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","value","_typeof","Symbol","iterator","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","enumerable","writable","protoProps","staticProps","object","property","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","Color","Error","defineRGBComponent","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","domElement","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP","HTMLEvents","MouseEvents","KeyboardEvents","EVENT_MAP_INV","k","e","CSS_VALUE_PIXELS","cssValueToPixels","val","dom","makeSelectable","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","left","right","top","bottom","fakeEvent","eventType","pars","aux","params","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","addEventListener","attachEvent","unbind","removeEventListener","detachEvent","addClass","classes","split","join","removeClass","removeAttribute","splice","hasClass","getWidth","getComputedStyle","getHeight","height","getOffset","el","offset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","type","href","BooleanController","_Controller","_this2","_this","onChange","setValue","__prev","__checkbox","checked","OptionController","opts","options","__select","map","element","opt","desiredValue","selectedIndex","StringController","__input","onBlur","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","pow","log","LN10","__precision","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","_NumberController","__truncationSuspended","prevY","attempted","onFinish","onMouseDrag","diff","onMouseUp","onMouseDown","i1","i2","o1","o2","NumberControllerSlider","preventDefault","bgRect","__background","getBoundingClientRect","onTouchStart","touches","onTouchEnd","__foreground","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","_ref2","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","background","linearGradient","hueGradient","outline","textAlign","fontWeight","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","cssText","load","url","indoc","doc","link","rel","getElementsByTagName","inject","cssContent","injected","saveDialogContents","ControllerFactory","requestAnimationFrame","callback","requestAnimationFrame$1","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","onClickTitle","resetWidth","root","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","stringify","getSaveObject","saveToLocalStorageIfPossible","gui","newDom","liBefore","li","removeListeners","markPresetModified","modified","__preset_select","augmentController","controller","__li","__gui","_options","nextSibling","nextElementSibling","remove","_add","before","factoryArgs","_nextSibling","_name","firstElementChild","listen","box","method","pc","pb","returned","oldName","wasListening","newController","stopPropagation","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","remembered","presetMap","concat","container","CLASS_CONTROLLER_ROW","location","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","__save_row","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","which","show","focus","save","presetName","prompt","saveAs","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","w","getCurrentPreset","useInitialValues","savedValues","updateDisplays","controllerArray","toggleHide","CLASS_TOO_TALL","_keydownHandler","add","addColor","removeChild","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","node","offsetHeight","remember","GUI$1"],"mappings":"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","file":"js/chunk-18dee8f2.9518cf10.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decalSplatter\"},[_c('div',{staticClass:\"main_wrapper\"},[_c('div',{attrs:{\"id\":\"decals\"}},[_vm._m(0),_c('div',{staticClass:\"map_decals clearfix\",attrs:{\"id\":\"map_decals\"}},[_c('div',{staticClass:\"upload_wrapper clearfix\",attrs:{\"id\":\"decal_upload\"}},[_c('div',{staticClass:\"text_ipload\"},[(_vm.showMore)?_c('p',{staticClass:\"open_upload\"},[_vm._v(\"+ Upload decal(png)\")]):_vm._e(),(!_vm.showMore)?_c('p',{staticClass:\"close_upload\"},[_vm._v(\"+\")]):_vm._e()]),_c('input',{attrs:{\"id\":\"upload_input\",\"name\":\"file\",\"type\":\"file\",\"multiple\":\"false\",\"onchange\":\"uploadMap(this.files)\",\"title\":\"Upload Image Search\"}})]),_c('div',{staticClass:\"map_wrapper clearfix\",attrs:{\"id\":\"map_wrapper\"}},_vm._l((_vm.totalDecalsNumer),function(index){return _c('div',{key:index,staticClass:\"each_decal\",on:{\"click\":_vm.changeCurrentDecal}},[_c('img',{attrs:{\"src\":'/image/decals/'+index+'.png',\"alt\":\"\"}})])}),0),_vm._m(1)]),_c('div',{staticClass:\"show_more\",on:{\"click\":function($event){_vm.showMore = !_vm.showMore}}},[_c('img',{attrs:{\"src\":\"/image/3dBuilder/arrow.png\",\"alt\":\"\",\"width\":\"7\",\"height\":\"14\"}})])]),_c('div',{attrs:{\"id\":\"container\"},on:{\"click\":_vm.containerMouseDown,\"mouseup\":_vm.containerMouseUp,\"mousemove\":_vm.onTouchMove}}),_c('div',{attrs:{\"id\":\"info\"}},[_vm._v(\" Imp decal splatter \"),(_vm.showIEnote)?_c('div',{staticClass:\"ie_notice\"},[_vm._v(\"We highly recommend you open current page in Chrome or Firefox.\")]):_vm._e()])]),(_vm.showLoading)?_c('loadingDataProgress',{attrs:{\"progressingBar\":this.progressingBar}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top_nav clearfix\"},[_c('div',{staticClass:\"map active\"},[_vm._v(\"Map\")]),_c('div',{staticClass:\"recent\"},[_vm._v(\"Recently used\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recently_wrapper clearfix\",attrs:{\"id\":\"recently_wrapper\"}},[_c('div',{staticClass:\"no_recently\"},[_vm._v(\"No recently used decals!\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luggageDecalSplatter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luggageDecalSplatter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./luggageDecalSplatter.vue?vue&type=template&id=1419ac0c&scoped=true&\"\nimport script from \"./luggageDecalSplatter.vue?vue&type=script&lang=js&\"\nexport * from \"./luggageDecalSplatter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./luggageDecalSplatter.vue?vue&type=style&index=0&id=1419ac0c&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1419ac0c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luggageDecalSplatter.vue?vue&type=style&index=0&id=1419ac0c&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luggageDecalSplatter.vue?vue&type=style&index=0&id=1419ac0c&scoped=true&lang=stylus&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loading_data\"}},[_c('img',{attrs:{\"src\":\"/image/loading.gif\",\"alt\":\"\"}}),_c('div',{staticClass:\"processingbar\"},[_c('div',{staticClass:\"barwidth\",style:({width:_vm.progressingBar+'%'})})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"loading_data\"><img src=\"/image/loading.gif\" alt=\"\">\r\n    <div class=\"processingbar\">\r\n      <div class=\"barwidth\" :style=\"{width:progressingBar+'%'}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"loadingDataProgress\",\r\n        props:{\r\n            progressingBar:Number\r\n        },\r\n        mounted() {\r\n            console.log('this.progressingBar:::'+this.progressingBar)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n  #loading_data\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom:0;\r\n    background:#FFF;\r\n    opacity: .7;\r\n    z-index: 999;\r\n    img,.processingbar\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%,-50%)\r\n    .processingbar\r\n      width: 3rem;\r\n      height: .15rem;\r\n      background: #eee;\r\n      top: 60%;\r\n      transform: translate(-50%,-60%);\r\n      margin: auto;border-radius: .075rem;\r\n      .barwidth\r\n        width: 0;\r\n        height: 100%;\r\n        background: #3c763d;\r\n        border-radius: .075rem;\r\n\r\n  #loading_data.hideShowMore\r\n    img\r\n      top: 50%;\r\n      left: 47.5%;\r\n      transform: translate(-47.5%,-50%)\r\n    .processingbar\r\n      left: 47.5%;\r\n      transform: translate(-47.5%,-60%)\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingDataProgress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingDataProgress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loadingDataProgress.vue?vue&type=template&id=7e08a87f&scoped=true&\"\nimport script from \"./loadingDataProgress.vue?vue&type=script&lang=js&\"\nexport * from \"./loadingDataProgress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loadingDataProgress.vue?vue&type=style&index=0&id=7e08a87f&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e08a87f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"decalSplatter\">\r\n    <div class=\"main_wrapper\">\r\n      <div id=\"decals\">\r\n        <div class=\"top_nav clearfix\">\r\n          <div class=\"map active\">Map</div>\r\n          <div class=\"recent\">Recently used</div>\r\n        </div>\r\n        <div class=\"map_decals clearfix\" id=\"map_decals\">\r\n          <div class=\"upload_wrapper clearfix\" id=\"decal_upload\">\r\n            <div class=\"text_ipload\">\r\n              <p class=\"open_upload\" v-if=\"showMore\">+ Upload decal(png)</p>\r\n              <p class=\"close_upload\" v-if=\"!showMore\">+</p>\r\n            </div>\r\n            <input id=\"upload_input\"  name=\"file\" type=\"file\" multiple=\"false\" onchange=\"uploadMap(this.files)\" title=\"Upload Image Search\"/>\r\n          </div>\r\n          <div class=\"map_wrapper clearfix\" id=\"map_wrapper\">\r\n            <div class=\"each_decal\"\r\n                 v-for=\"index of totalDecalsNumer\"\r\n                 :key=\"index\"\r\n                 @click=\"changeCurrentDecal\"><img :src=\"'/image/decals/'+index+'.png'\" alt=\"\"></div>\r\n          </div>\r\n          <div class=\"recently_wrapper clearfix\" id=\"recently_wrapper\">\r\n            <div class=\"no_recently\">No recently used decals!</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"show_more\" @click=\"showMore = !showMore\"><img src=\"/image/3dBuilder/arrow.png\" alt=\"\" width=\"7\" height=\"14\"></div>\r\n      </div>\r\n      <div id=\"container\" @click=\"containerMouseDown\" @mouseup=\"containerMouseUp\" @mousemove=\"onTouchMove\"></div>\r\n      <div id=\"info\">\r\n        Imp decal splatter\r\n        <div class=\"ie_notice\" v-if=\"showIEnote\">We highly recommend you open current page in Chrome or Firefox.</div>\r\n      </div>\r\n    </div>\r\n    <loadingDataProgress  v-if=\"showLoading\" :progressingBar=\"this.progressingBar\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import * as THREE from 'three/build/three.module.js'\r\n    import {OrbitControls} from 'three/examples/jsm/controls/OrbitControls'\r\n    import {STLLoader} from 'three/examples/jsm/loaders/STLLoader'\r\n    import {STLExporter} from 'three/examples/jsm/exporters/STLExporter'\r\n    import {DecalGeometry} from 'three/examples/jsm/geometries/DecalGeometry'\r\n    import { GUI } from 'three/examples/jsm/libs/dat.gui.module';\r\n    import loadingDataProgress from '@/common/loadingDataProgress/loadingDataProgress';\r\n    export default {\r\n        name: \"luggageDecalSplatter\",\r\n        components:{\r\n            loadingDataProgress\r\n        },\r\n        data(){\r\n            return{\r\n                showLoading : true,\r\n                mouse:null,\r\n                mouseX:0,\r\n                mouseY:0,\r\n                mouseHelper :null,\r\n                showIEnote:false,\r\n                showMore:true,\r\n                renderer:null,\r\n                camera:null,\r\n                scene:null,\r\n                plane:null,\r\n                mesh:null,\r\n                controls:null,\r\n                container : null,\r\n                exporter : null,\r\n                line : null,\r\n                raycaster:null,\r\n                defaultSTL : '/models/stl/ascii/luggage.stl',\r\n                totalDecalsNumer:52,\r\n                decals : [], // to save all shot decals\r\n                decalMap:{}, //decal list map obj\r\n                recentlyUsedDecal:[],//to save all recently used decals\r\n                params : {},\r\n                currentSize : null, //current mouse decal size\r\n                position : null,// shot postion\r\n                orientation : null, // shot orientation\r\n                decalMaterial : null,\r\n                textureLoader: null,\r\n                currentDecal:'/image/decals/1.png',// set first decal as default decal\r\n                currentmaterial:null, //current mouse decal material (for mouseHelper,and current decal)\r\n                decalDiffuse:null, // set decal decalMaterial map\r\n                decalNormal :null,// set decal decalMaterial normalMap\r\n                shotFlag:false, //是否已经shot/  if shot decal\r\n                progressingBar : 0,\r\n                menuShowFlag : false, //current menu status flag\r\n                intersects : [],\r\n                intersection : null,\r\n                controlRotate : true, // the controls enableRotate\r\n                clickedLeftMouse : false, //mouse left click\r\n                focusedDecals:[],//鼠标位置的decal集合  all decals of mouse position\r\n                focusedDecalFlag:null,//鼠标位置的decal Flag\r\n                focusedDecalUUID:null, //鼠标位置的decal uuid    top decal uuid of mouse position/focused decal uuid\r\n                decalsPRobj:{}, // all shot decals' position and rotation\r\n                moved : false, //controls 是否可以动\r\n                currentPosition:null,//current mouse decal position (for mouseHelper)\r\n            }\r\n        },\r\n        methods:{\r\n            IEVersion() {\r\n                var userAgent = navigator.userAgent; //get the userAgent info of browser\r\n                var isIE = userAgent.indexOf( \"compatible\" ) > - 1 && userAgent.indexOf( \"MSIE\" ) > - 1; //判断是否IE<11浏览器\r\n                var isEdge = userAgent.indexOf( \"Edge\" ) > - 1 && ! isIE; //判断是否IE的Edge浏览器 check if it is Edge\r\n                var isIE11 = userAgent.indexOf( 'Trident' ) > - 1 && userAgent.indexOf( \"rv:11.0\" ) > - 1;\r\n                if (isIE) {\r\n                    var reIE = new RegExp( \"MSIE (\\\\d+\\\\.\\\\d+);\" );\r\n                    reIE.test( userAgent );\r\n                    var fIEVersion = parseFloat( RegExp[\"$1\"] );\r\n                    if (fIEVersion == 7) {\r\n                        return 7;\r\n                    } else if (fIEVersion == 8) {\r\n                        return 8;\r\n                    } else if (fIEVersion == 9) {\r\n                        return 9;\r\n                    } else if (fIEVersion == 10) {\r\n                        return 10;\r\n                    } else {\r\n                        return 6;//IE版本<=7\r\n                    }\r\n                } else if (isEdge) {\r\n                    return 'edge';//edge\r\n                } else if (isIE11) {\r\n                    return 11; //IE11\r\n                } else {\r\n                    return - 1;//不是ie浏览器\r\n                }\r\n            },\r\n            init(){\r\n                const _this = this;\r\n                _this.renderer = new THREE.WebGLRenderer( { antialias: true } );  //new a three renderer\r\n                _this.renderer.setPixelRatio( window.devicePixelRatio );\r\n                _this.renderer.setSize( window.innerWidth, window.innerHeight);\r\n                _this.container.appendChild( _this.renderer.domElement ); //append renderer to container\r\n\r\n                /*stats = new Stats(); //网络帧数\r\n                    container.appendChild( stats.dom );*/\r\n\r\n                _this.scene = new THREE.Scene();\r\n                _this.scene.name = \"scene\"; //give the name of scene\r\n                // sky + ground\r\n                //sky\r\n                _this.scene.background = new THREE.Color( 0xcce0ff );\r\n                _this.scene.fog = new THREE.Fog( 0xcce0ff, 50, 1000 );\r\n                // ground\r\n                var loaderText = new THREE.TextureLoader();\r\n                var groundTexture = loaderText.load( '/image/decals/grasslight-big.jpg' );\r\n                groundTexture.wrapS = groundTexture.wrapT = THREE.RepeatWrapping;\r\n                groundTexture.repeat.set( 25, 25 );\r\n                groundTexture.anisotropy = 1;\r\n                groundTexture.encoding = THREE.sRGBEncoding;\r\n                var groundMaterial = new THREE.MeshLambertMaterial( { map: groundTexture } );\r\n                var meshGround = new THREE.Mesh( new THREE.PlaneBufferGeometry( 6000, 6000 ), groundMaterial );\r\n                meshGround.position.y = - 50;\r\n                meshGround.rotation.x = - Math.PI / 2;\r\n                meshGround.receiveShadow = true;\r\n                meshGround.name =\"meshGround\";\r\n                _this.scene.add( meshGround );\r\n                // sky + ground end\r\n\r\n                // scene.add( new THREE.AxesHelper( 50 ) ); //坐标位置辅助线 Coordinate system\r\n\r\n                // 相机位置距离 camera position\r\n                _this.camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );\r\n                _this.camera.position.z = 120;\r\n                _this.camera.target = new THREE.Vector3();\r\n\r\n                var lights = new THREE.PointLight( 0xffffff, 0.2 ); //camera light， You do not need any other lights in your scene if you use this pattern.\r\n                _this.camera.add( lights );\r\n                _this.scene.add( _this.camera );\r\n\r\n                _this.controls = new OrbitControls( _this.camera, _this.renderer.domElement ); // project controller\r\n                _this.controls.minDistance = 50; //设置相机距离原点的最近距离 min distance of camera to coordinate origin\r\n                _this.controls.maxDistance = 200;//设置相机距离原点的最远距离 max distance of camera to coordinate origin\r\n                _this.controls.enablePan=false; //右键不能移动\r\n\r\n                _this.exporter = new STLExporter(); //导出工具  exporter tool\r\n\r\n                // LIGHTS\r\n                _this.scene.add( new THREE.AmbientLight( 0xFFFFFFF,1.2) );//（环境光） environment light\r\n\r\n                // 鼠标红线 mouse helper line\r\n                var geometry = new THREE.BufferGeometry();\r\n                geometry.setFromPoints( [new THREE.Vector3(), new THREE.Vector3()] );\r\n\r\n                var lineMaterial = new THREE.LineBasicMaterial( {\r\n                    color: 0xFF0000,\r\n                    linewidth: 100,\r\n                    linecap: 'round',\r\n                    linejoin: 'round'\r\n                } );\r\n                _this.line = new THREE.Line( geometry, lineMaterial );\r\n                _this.line.visible = false; //hide the line\r\n                _this.line.name = \"line\";\r\n                _this.scene.add( _this.line ); //鼠标辅助线\r\n\r\n                _this.loadSTL(_this.defaultSTL,_this.decals);\r\n                _this.raycaster = new THREE.Raycaster();\r\n                _this.initGUI();//all the control GUI\r\n\r\n                window.addEventListener( 'resize', _this.onWindowResize, false );\r\n\r\n                _this.controls.addEventListener( 'change', function () {\r\n                    _this.moved = true;\r\n                } );\r\n                _this.onWindowResize();\r\n                _this.animate(); //render and so on\r\n            },\r\n            containerMouseDown(e){\r\n                const _this = this;\r\n                console.log(\"containerMouseDown\")\r\n                _this.moved = false;\r\n                if (e.button == 0) { //mouse left button\r\n                    if(_this.focusedDecalFlag&&_this.shotFlag){\r\n                        _this.controls.enableRotate = false; //disable the controls'Rotate\r\n                        _this.controlRotate = false;\r\n                    }\r\n                    else{\r\n                        _this.controls.enableRotate = true; //enable the controls'Rotate\r\n                        _this.controlRotate = true;\r\n                    }\r\n                    _this.clickedLeftMouse = true;\r\n                }\r\n            },\r\n            containerMouseUp(e){\r\n                const _this = this;\r\n                console.log(\"containerMouseUp\")\r\n                if (e.button == 0) { //mouse left button\r\n                    // menuShowFlag = true;\r\n                    _this.clickedLeftMouse = false;\r\n                    if(!_this.focusedDecalFlag){\r\n                        _this.controls.enableRotate = true; //enable the controls'Rotate\r\n                        _this.controlRotate = true;\r\n                    }\r\n                    // console.log(\"鼠标左键!\")\r\n                    var menuStatus = $(\".right_click_menu\").css(\"display\"); //check the right clicked menu show or not\r\n                    if (menuStatus != 'block') {\r\n                        _this.checkIntersection();\r\n                        if (!  _this.moved && _this.intersection.intersects && !_this.shotFlag) {\r\n                            _this.shoot(0);\r\n                            // 做点shoot后，取消鼠标decal，remove decal after shoot\r\n                            _this.leftClick = true;\r\n                            _this.shotFlag = true;\r\n                            _this.clearCache( _this.mouseHelper );\r\n                            _this.scene.remove( _this.mouseHelper ); //after shot, remove the mouseHelper\r\n                            $( \".activeDecal\" ).removeClass( 'activeDecal' ); //after shot, remove the active decal style\r\n                        }\r\n                    }\r\n                }else if (e.button == 2){ //mouse right button\r\n                    // console.log(\"鼠标右键!\");\r\n                    if(_this.focusedDecalFlag){ //if focused decal, then right click to show the menu for this decal\r\n                        if(_this.focusedDecalUUID){\r\n                            _this.showNhideMenu(1);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            onWindowResize() {\r\n                var leftDecalWidth = $(\"#decals\").width(); //left decal side width\r\n                this.camera.aspect = (window.innerWidth-leftDecalWidth) / window.innerHeight;\r\n                this.renderer.setSize( window.innerWidth-leftDecalWidth, window.innerHeight );\r\n                // camera.aspect = window.innerWidth / window.innerHeight;\r\n                this.camera.updateProjectionMatrix();\r\n                // renderer.setSize( window.innerWidth, window.innerHeight );\r\n            },\r\n            animate() {\r\n                requestAnimationFrame( this.animate );\r\n                this.renderer.render( this.scene, this.camera );\r\n                // stats.update();\r\n            },\r\n            initGUI(){\r\n                const _this = this;\r\n                var gui = new GUI();\r\n                gui.add( _this.params, 'SUBMIT' );\r\n                // gui.add( params, 'minScale', 1, 30 );\r\n                gui.add( _this.params, 'maxScale', 1, 30 ).name( 'Mouse Decal Size' ).onChange( _this.updateDecalSize );\r\n                gui.add( _this.params, 'rotation', -180, 180).name( 'Mouse Decal Rotation' ).onChange( _this.updateDecalTransform ); //.name( 'rotation' ).onChange( updateDecalTransform )\r\n                gui.add( _this.params, 'back' ).name(\"Remove last Decal\");\r\n                gui.add( _this.params, 'forward' ).name(\"Restore last Decal\");\r\n                gui.add( _this.params, 'clear' ).name(\"Clear All\");\r\n                gui.open();\r\n                $(\".dg ul li:nth-of-type(1)\").addClass(\"exportSTL\");\r\n                $(\".dg ul li:nth-of-type(2)\").addClass(\"decal_size\");\r\n                $(\".dg ul li:nth-of-type(3)\").addClass(\"rotation\");\r\n                $(\".dg ul li:nth-of-type(4)\").addClass(\"back_btn\");\r\n                $(\".dg ul li:nth-of-type(5)\").addClass(\"forward_btn\");\r\n                // 首次禁止操作rotation，否则报错\r\n                // $(\".rotation\").find(\".property-name\").text(\"rotation( -180°- 180° )\");\r\n                // $(\".rotation\").addClass(\"rotation_cover\");\r\n                // $(\".rotation div:eq(0)\").addClass(\"rotation_no\");\r\n                // $(\".rotation\").find(\"input\").addClass(\"input_no\");\r\n                // 首次禁止操作rotation，否则报错 end\r\n                $(\".dg.ac .dg.main.a:eq(0)\").addClass(\"main_menu\");\r\n\r\n                var rightMenuGUI = new GUI();\r\n                rightMenuGUI.add( _this.params, 'Size', 1, 30 ).name( 'Size' ).onChange( _this.updateDecalSizeMenu);\r\n                rightMenuGUI.add( _this.params, 'rotationHide', -180, 180).name( 'Rotation' ).onChange( _this.updateDecalTransformMenu); //.name( 'rotation' ).onChange( updateDecalTransform )\r\n                rightMenuGUI.add( _this.params, 'remove').name( 'Delete' ); //\r\n                rightMenuGUI.open();\r\n                $(\".dg.ac .dg.main.a:eq(1)\").addClass(\"right_click_menu\");\r\n                $(\".right_click_menu .close-button\").addClass(\"needHide\");\r\n                $(\".right_click_menu ul li:nth-of-type(1)\").addClass(\"menu_decal_size\");\r\n                $(\".right_click_menu ul li:nth-of-type(2)\").addClass(\"menu_rotation\");\r\n                $(\".right_click_menu ul li:nth-of-type(3)\").addClass(\"delect_current\");\r\n            },\r\n            loadSTL( file,decalMapArr ) {\r\n                const _this = this;\r\n                // ASCII file\r\n                if (!file) {\r\n                    file = '/models/stl/ascii/luggage.stl';\r\n                }\r\n                var loader = new STLLoader();\r\n                loader.load( file, function ( geometry ) {\r\n                    var material = new THREE.MeshPhongMaterial( { color: 0x9B9EA1 } );\r\n                    _this.mesh = new THREE.Mesh( geometry, material );\r\n                    //position\r\n                    _this.mesh.position.set( 0, 0, 0 );\r\n                    _this.mesh.rotation.set( 1.6, 0, 0);\r\n                    _this.mesh.scale.set( .08, .08, .08 );\r\n                    _this.mesh.castShadow = true;\r\n                    _this.mesh.receiveShadow = true;\r\n                    _this.mesh.name = \"luggage\";\r\n                    _this.scene.add( _this.mesh );\r\n                    if(decalMapArr.length>0){\r\n                        for (var i in decalMapArr){\r\n                            _this.scene.add( decalMapArr[i] );\r\n                        }\r\n                    }\r\n                    var currentscale = _this.params.maxScale;\r\n                    _this.currentSize.set( currentscale, currentscale, currentscale );\r\n                    var currentmaterial1 = _this.decalMaterial.clone();\r\n                    _this.mouseHelper= new THREE.Mesh( new DecalGeometry(_this.mesh, _this.position, _this.orientation, _this.currentSize ), currentmaterial1 );\r\n                    _this.mouseHelper.name = 'mouseHelper';\r\n                    _this.scene.add( _this.mouseHelper );\r\n                    console.log(_this.scene.children)\r\n                    setTimeout(function () {\r\n                        $(\".each_decal:eq(0)\").trigger(\"click\"); //激活鼠标首次decal显示\r\n                    },200)\r\n                    _this.showLoading = false;\r\n                },\r\n                // onProgress callback\r\n                function ( xhr ) {\r\n                    // console.log( (xhr.loaded / xhr.total * 100) + '% loaded' );\r\n                    _this.progressingBar =( xhr.loaded / xhr.total * 100 )\r\n                },\r\n                // onError callback\r\n                function ( err ) {\r\n                    console.log( 'An error happened :' +err );\r\n                });\r\n            },\r\n            changeCurrentDecal(e){\r\n                const _this = this;\r\n                const obj = e.target;\r\n                _this.showLoading = true;\r\n                // return function(obj){\r\n                // console.log(img);\r\n                $(\".each_decal\").removeClass(\"activeDecal\");\r\n                var img;\r\n                if($(obj).hasClass(\"each_decal\")){\r\n                    $(obj).addClass(\"activeDecal\");\r\n                    img = $(obj).find(\"img\").attr(\"src\");\r\n                }\r\n                else{\r\n                    $(obj).closest(\".each_decal\").addClass(\"activeDecal\");\r\n                    img = $(obj).attr(\"src\");\r\n                }\r\n                _this.currentDecal = img;\r\n                _this.decalDiffuse = _this.textureLoader.load( _this.currentDecal );\r\n                _this.decalNormal =  _this.textureLoader.load( _this.currentDecal );\r\n                _this.decalMaterial = new THREE.MeshPhongMaterial( {\r\n                    specular: 0x444444,\r\n                    map: _this.decalDiffuse,\r\n                    normalMap: _this.decalNormal,\r\n                    normalScale: new THREE.Vector2( 1, 1 ),\r\n                    shininess: 30,\r\n                    transparent: true,\r\n                    depthTest: true,\r\n                    depthWrite: false,\r\n                    polygonOffset: true,\r\n                    polygonOffsetFactor: - 4,\r\n                    wireframe: false,\r\n                    color:0xC3C3C3,\r\n                } );\r\n                _this.changeMouseDecal();\r\n                _this.shotFlag = false; //恢复可点击shoot\r\n            },\r\n            changeMouseDecal(){\r\n                const _this = this;\r\n                // 改变鼠标decal\r\n                var currentscale = _this.params.maxScale;\r\n                _this.currentSize.set( currentscale, currentscale, 30 );\r\n                _this.currentmaterial = _this.decalMaterial.clone();\r\n                _this.position.set(0, 0, 0); //reset position\r\n                _this.orientation.set(0,0,0);//reset orientation\r\n                _this.clearCache(_this.mouseHelper);\r\n                _this.scene.remove(_this.mouseHelper);\r\n                _this.mouseHelper= new THREE.Mesh( new DecalGeometry( _this.mesh, _this.currentPosition, _this.orientation, _this.currentSize ), _this.currentmaterial );\r\n                _this.scene.add(_this.mouseHelper)\r\n                // 改变鼠标decal end\r\n                _this.showLoading = false;\r\n            },\r\n            onTouchMove( event ) {\r\n                const _this = this;\r\n                var x, y;\r\n                if (event.changedTouches) {\r\n                    x = event.changedTouches[0].pageX;\r\n                    y = event.changedTouches[0].pageY;\r\n                } else {\r\n\r\n                    x = event.clientX;\r\n                    y = event.clientY;\r\n\r\n                }\r\n                var leftDecalWidth = $(\"#decals\").width(); //left decal side width\r\n                _this.mouse.x = (x / (window.innerWidth + leftDecalWidth)) * 2 - 1;\r\n                // mouse.x = ( x / window.innerWidth ) * 2 - 1;\r\n                _this.mouse.y = -(y / window.innerHeight) * 2 + 1;\r\n                if (!_this.menuShowFlag) {\r\n                    _this.checkIntersection();\r\n                }\r\n                if (!_this.controlRotate && _this.clickedLeftMouse) { // https://github.com/spite/THREE.DecalGeometry/issues/9\r\n                    if (_this.focusedDecalUUID) {\r\n                        for (var i in _this.decals) {\r\n                            var currentDecal = _this.decals[i];\r\n                            if (currentDecal.uuid == _this.focusedDecalUUID) {\r\n                                for (var j in _this.decalsPRobj) {\r\n                                    if (_this.focusedDecalUUID == _this.decalsPRobj[j].uuid) {\r\n                                        var thisShootPostion = _this.decalsPRobj[j].position;\r\n                                        var thisShootrotation = _this.decalsPRobj[j].orientation;\r\n                                        var this_size = _this.decalsPRobj[j].size;\r\n                                        thisShootPostion.copy(_this.mouseHelper.position);\r\n                                        _this.params.Size = this_size;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                _this.decalMaterial = currentDecal.material;\r\n                                _this.clearCache(currentDecal);\r\n                                _this.scene.remove(currentDecal);\r\n                                _this.decals.splice(i, 1); //remove element that index is i in array decals\r\n                                _this.shoot(5, thisShootrotation, thisShootPostion);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            checkIntersection() {\r\n                const _this = this;\r\n                if (! _this.mesh) return;\r\n\r\n                _this.raycaster.setFromCamera( _this.mouse, _this.camera );\r\n                _this.raycaster.intersectObject( _this.mesh, false, _this.intersects );\r\n\r\n                if (_this.intersects.length > 0) {\r\n                    var p = _this.intersects[0].point;\r\n                    _this.mouseHelper.position.set( 0, 0, 0 );\r\n                    _this.mouseHelper.position.copy( p );  //copy intersection position to mouseHelper\r\n                    _this.intersection.point.copy( p );\r\n                    /*1.克隆旧的法线 2.旧法线乘以模型的世界矩阵得到归一化后的法线 3.和一个标量相乘，放大10倍。 4.加上点击点的坐标，进行平移。*/\r\n                    var n = _this.intersects[0].face.normal.clone();\r\n                    n.transformDirection( _this.mesh.matrixWorld );\r\n                    n.multiplyScalar( 10 );\r\n                    n.add( _this.intersects[0].point );\r\n\r\n                    _this.intersection.normal.copy( _this.intersects[0].face.normal );\r\n                    _this.mouseHelper.lookAt( n );\r\n\r\n                    var positions = _this.line.geometry.attributes.position;\r\n                    positions.setXYZ( 0, p.x, p.y, p.z );\r\n                    positions.setXYZ( 1, n.x, n.y, n.z );\r\n                    positions.needsUpdate = true;\r\n\r\n\r\n                    if(_this.shotFlag){ //if shot, we can pick decal\r\n\r\n                        // var sceneChilds = scene.children;\r\n                        var sceneChilds = _this.raycaster.intersectObjects( _this.scene.children ); //get all objects in the current position of your mouse;\r\n                        for(var i in sceneChilds){\r\n                            if(sceneChilds[i][\"object\"]){\r\n                                var currentObj =  sceneChilds[i][\"object\"];\r\n                                if(currentObj[\"name\"] == \"decal\"){ //get all objects whose name is decal in the current position of your mouse;\r\n                                    _this.focusedDecals.push(currentObj);\r\n                                }\r\n                            }\r\n                        }\r\n                        if(_this.focusedDecals.length>0){\r\n                            var topDecal = _this.focusedDecals[_this.focusedDecals.length-1]; //get last shot decal object in the current position of your mouse;\r\n                            if(_this.focusedDecalUUID){\r\n                                // eslint-disable-next-line no-redeclare\r\n                                for(var i in _this.decals){\r\n                                    if(_this.decals[i].uuid == _this.focusedDecalUUID){ //reset the last focused decal object color\r\n                                        _this.decals[i].material.color.set(\"#C3C3C3\");\r\n                                        break;\r\n                                    }\r\n                                    else{\r\n                                        _this.decals[i].material.color.set(\"#C3C3C3\");\r\n                                    }\r\n                                }\r\n                            }\r\n                            _this.focusedDecalUUID = topDecal.uuid; //reset the current focused decal object uuid\r\n                            _this.focusedDecalFlag = true;\r\n                            topDecal.material.color.set( '#f00' ); //set the current focused decal object color\r\n                        }\r\n                        else{\r\n                            _this.showNhideMenu(0);\r\n                            if(_this.focusedDecalUUID){ //if current position of your mouse do not have decal, reset all decal color;\r\n\r\n                                // eslint-disable-next-line no-redeclare\r\n                                for(var i in _this.decals){\r\n                                    if(_this.decals[i].uuid == _this.focusedDecalUUID){//reset the last focused decal object color\r\n                                       _this.decals[i].material.color.set(\"#C3C3C3\");\r\n                                        break;\r\n                                    }\r\n                                    else{\r\n                                        _this.decals[i].material.color.set(\"#C3C3C3\");\r\n                                    }\r\n                                }\r\n                            }\r\n                            _this.focusedDecalFlag = false;\r\n                        }\r\n                    }\r\n                    _this.focusedDecals = []; //reset decals array\r\n                    _this.intersection.intersects = true;\r\n                    _this.intersects.length = 0;\r\n\r\n                } else {\r\n                    _this.intersection.intersects = false;\r\n                    _this.line.visible = false;\r\n                    _this.showNhideMenu(0);\r\n                    // eslint-disable-next-line no-redeclare\r\n                    for(var i in _this.decals){ //if do not have intersects, clean the select status and clean the focusedDecalUUID\r\n                        if(_this.decals[i].uuid == _this.focusedDecalUUID){//if current position of your mouse do not have decal, reset all decal color;\r\n                            _this.decals[i].material.color.set(\"#C3C3C3\");//reset the last focused decal object color\r\n                            break;\r\n                        }\r\n                    }\r\n                    _this.focusedDecals = [];\r\n                    _this.focusedDecalFlag =false;\r\n                    _this.focusedDecalUUID = \"\";\r\n                    _this.controls.enableRotate = true; //enable the controls'Rotate\r\n                    _this.controlRotate = true;\r\n                }\r\n            },\r\n            shoot(type,lastRotation,lastPosition) { //type:0 第一次点击 1，旋转贴图 3: 选中贴图的旋转 4, 选中贴图改变大小尺寸\r\n                const _this = this;\r\n                // 当前选择贴图替换\r\n                var sameImgNum=0;\r\n                for(var i in _this.recentlyUsedDecal){\r\n                    if(_this.recentlyUsedDecal[i] == _this.currentDecal){\r\n                        sameImgNum++;\r\n                    }\r\n                }\r\n                if(sameImgNum == 0){\r\n                    _this.recentlyUsedDecal.push(_this.currentDecal);\r\n                }\r\n\r\n                // 当前选择贴图替换end\r\n                if(type==1 || type == 3|| type == 4|| type == 5){\r\n                    _this.position.copy( lastPosition );\r\n                    _this.orientation.copy( lastRotation);\r\n                }\r\n                else{\r\n                    _this.position.copy( _this.intersection.point );\r\n                    _this.orientation.copy( _this.mouseHelper.rotation );\r\n                    if(_this.orientation._z == 0 && _this.params.rotation !=0){ //default orientation z is 0, if\r\n                        _this.orientation._z = _this.params.rotation / 60;\r\n                    }\r\n                    _this.lastShootPostion = _this.position;\r\n                    _this.lastShootrotation =_this.orientation;\r\n                }\r\n                // if ( params.rotate ) orientation.z = Math.random() * 2 * Math.PI;\r\n                var scale = _this.params.maxScale;\r\n                if(type == 3 || type == 4|| type == 5){ //type 3，4 is change selected decal, so using other size attr\r\n                    scale = _this.params.Size;\r\n                }\r\n                _this.size.set( scale, scale, scale );\r\n                var material = _this.decalMaterial.clone();\r\n                var m = new THREE.Mesh( new DecalGeometry( _this.mesh, _this.position, _this.orientation, _this.size ), material );\r\n                m.name = 'decal';\r\n                _this.decals.push( m );\r\n                _this.scene.add( m );\r\n                var prObj = {};\r\n                prObj[\"position\"]=_this.position.clone();\r\n                prObj[\"orientation\"]=_this.orientation.clone();\r\n                prObj[\"size\"]=scale;\r\n                prObj[\"uuid\"]=m.uuid;\r\n                _this.decalsPRobj[m.uuid] = prObj;\r\n                if(type == 3 || type == 4){ //each time reshoot, the decalGeometry is the new one, so the uuid changed\r\n                    _this.focusedDecalUUID = m.uuid;\r\n                }\r\n                if(_this.decals.length>0){\r\n                    if(_this.decals.length>0){\r\n                        $(\".back_btn\").addClass(\"active_back\")\r\n                    }\r\n                }\r\n                // _this.createMap(\"recently_wrapper\",_this.recentlyUsedDecal);\r\n            },\r\n            showNhideMenu(type){ //type 1: show 0:hide\r\n                const _this = this;\r\n                if(type == 0){\r\n                    _this.menuShowFlag = false;\r\n                    _this.focusedDecalFlag = false; //mouse focus or not\r\n                    $(\".right_click_menu,.right_menu_bg\").hide(); //if flag == false, hide menu\r\n                    $(\".main_menu\").show();\r\n                }\r\n                else {\r\n                    var this_size;\r\n                    var this_rotation;\r\n                    if(_this.focusedDecalUUID){\r\n                        for(var j in _this.decalsPRobj){\r\n                            if(_this.focusedDecalUUID == _this.decalsPRobj[j].uuid){\r\n                                this_size = _this.decalsPRobj[j].size;\r\n                                this_rotation =_this.decalsPRobj[j].orientation;\r\n                                _this.params.Size = this_size;\r\n                                $(\".right_click_menu\").find(\".menu_decal_size input\").val(this_size); //reset menu size number\r\n                                var this_size_width = 100/30*this_size;\r\n                                $(\".right_click_menu\").find(\".menu_decal_size .slider-fg\").css({\"width\": this_size_width+'%'});//reset menu size slider length\r\n                                _this.updateDecalSizeMenu();\r\n                                var this_rotation_input;\r\n                                if(this_rotation.z == 0){\r\n                                    this_rotation_input = 0\r\n                                }\r\n                                else{\r\n                                    this_rotation_input = this_rotation.z * 60;\r\n                                }\r\n                                $(\".right_click_menu\").find(\".menu_rotation input\").val(this_rotation_input); //reset menu size number\r\n                                var this_rotation_width;\r\n                                if(this_rotation_input>=0){\r\n                                    if(this_rotation_input == 0 ){\r\n                                        this_rotation_width = 50;\r\n                                    }\r\n                                    else{\r\n                                        this_rotation_width = (this_rotation_input/180)*50+50;\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    if(this_rotation_input == -180){\r\n                                        this_rotation_width = 0;\r\n                                    }\r\n                                    else{\r\n                                        this_rotation_width = (-this_rotation_input/180)*50;\r\n                                    }\r\n                                }\r\n\r\n                                $(\".right_click_menu\").find(\".menu_rotation .slider-fg\").css({\"width\": this_rotation_width+'%'});//reset menu size slider length\r\n\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    $( \".right_click_menu,.right_menu_bg\" ).show(); //show menu\r\n                    $( \".right_click_menu\" ).css( { \"left\": _this.mouseX, \"top\": _this.mouseY } );\r\n                    $(\".main_menu\").hide();\r\n                    setTimeout(function(){\r\n                        _this.menuShowFlag = true;\r\n                    },500)\r\n                }\r\n            },\r\n            /**\r\n             * 清空当前obj对象的缓存\r\n             * @param mesh  mesh对象\r\n             * */\r\n            clearCache(currentMesh) {\r\n                currentMesh.geometry.dispose();\r\n                currentMesh.material.dispose();\r\n            }\r\n\r\n\r\n        },\r\n        mounted() {\r\n            this.container = document.getElementById( 'container' );\r\n            if(this.IEVersion()!==-1){\r\n                this.showIEnote=true;\r\n            }\r\n            this.currentSize = new THREE.Vector3( 10, 10, 10 )\r\n            this.params = {  //params for GUI\r\n                SUBMIT:function (){\r\n                    this.exportASCII();\r\n                },\r\n                /*minScale: 10,*/\r\n                maxScale: 30,\r\n                maxScaleHide: 30,\r\n                Size: 30,\r\n                rotation: Math.PI /180, // positive is counter-clockwise   Math.PI = 3.14 = 180°\r\n                rotationHide: Math.PI /180, // positive is counter-clockwise   Math.PI = 3.14 = 180°\r\n                back: function () {\r\n                    this.removeLastDecals();\r\n                },\r\n                forward: function () {\r\n                    this.returnLastDecals();\r\n                },\r\n                clear: function () {\r\n                    this.removeDecals();\r\n                },\r\n                remove:function(){\r\n                    this.removeSelectedDecal();\r\n                }}\r\n            this.textureLoader = new THREE.TextureLoader();\r\n            this.decalDiffuse = this.textureLoader.load( '/image/decals/1.png' );  // set decal decalMaterial map\r\n            this.decalNormal = this.textureLoader.load( '/image/decals/1.png' ); // set decal decalMaterial normalMap\r\n            this.decalMaterial = new THREE.MeshPhongMaterial( {\r\n                // ambient:0x444444,//环境光颜色）\r\n                specular: 0x444444, //（镜面反射光颜色）\r\n                // shininess:30, //（镜面反射光强度）此属性指定 specular 镜面反射光部分的亮度。默认值是 30\r\n                // emissive:0x444444, //（自发光颜色）\r\n                map: this.decalDiffuse,\r\n                normalMap: this.decalNormal,\r\n                normalScale: new THREE.Vector2( 1, 1 ),\r\n                name:\"decalMaterial\",\r\n                shininess: 30,\r\n                transparent: true,\r\n                depthTest: true,\r\n                depthWrite: false,\r\n                polygonOffset: true,\r\n                polygonOffsetFactor: - 4,\r\n                wireframe: false,\r\n                color:0xC3C3C3,\r\n            } )\r\n            this.position = new THREE.Vector3();  // shot postion\r\n            this.orientation = new THREE.Euler(); // shot orientation\r\n            this.intersection = {\r\n                intersects: false,\r\n                point: new THREE.Vector3(),\r\n                normal: new THREE.Vector3()\r\n            }\r\n            this.mouse = new THREE.Vector2();\r\n            this.currentPosition = new THREE.Vector3(0,0,0);//current mouse decal position (for mouseHelper)\r\n            this.init();\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n.decalSplatter\r\n  .main_wrapper\r\n    width: 100%;\r\n    position: relative;\r\n    div#decals\r\n      width: 3.55rem\r\n      min-width: 1.27rem;\r\n      height: 100%;\r\n      float: left;\r\n      background: #F4F4F4;\r\n      position: fixed;\r\n      left: 0;\r\n      top: 0;\r\n      overflow: auto\r\n      .top_nav\r\n        margin: 0 auto;\r\n        width: 3.2rem;\r\n        .map,.recent\r\n          float: left;\r\n          width: 50%;\r\n          display: inline-block;\r\n          text-align: center;\r\n          color:#333;\r\n          font-size:.16rem;\r\n          line-height:.26rem;\r\n          cursor: pointer\r\n        .map.active\r\n          border-bottom: 2px solid #333;\r\n      .map_decals\r\n        #decal_upload\r\n          position: relative;\r\n          cursor: pointer;\r\n          .text_ipload\r\n            cursor: pointer;\r\n            color: #999;\r\n            width: 95%;\r\n            margin: 10px auto;\r\n            padding: .1rem;\r\n            text-align: center;\r\n            border: 1px dashed #999;\r\n            .open_upload\r\n              margin: 0;\r\n              font-size .13rem\r\n          #upload_input\r\n            cursor: pointer;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 9px;\r\n            width: 95%;\r\n            height: 36px;\r\n            opacity: 0;\r\n            z-index: 1;\r\n            font-size .13rem\r\n        .map_wrapper,.recently_wrapper\r\n          margin: 0 auto;\r\n          width: 330px;\r\n          .each_decal\r\n            position: relative;\r\n            width: 100px;\r\n            height: 100px;\r\n            float: left;\r\n            border:1px solid #D6DBE1;\r\n            margin: 5px;\r\n            background: #F4F4F4;\r\n            img\r\n              position: absolute;\r\n              top: 0;\r\n              bottom: 0;\r\n              left: 0;\r\n              right: 0;\r\n              margin: auto;\r\n              max-width: 100%;\r\n              max-height: 100%;\r\n          .each_decal.activeDecal\r\n            border:1px solid red\r\n\r\n\r\n\r\n      .show_more\r\n        background-image: url(\"/image/decals/showmore.png\");\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n        position: fixed;\r\n        left: 355px;\r\n        top: 50%;\r\n        width: 17px;\r\n        height: 47px;\r\n        cursor: pointer;\r\n        img\r\n          position: absolute;\r\n          left: 6px;\r\n          top: 17px;\r\n          cursor: pointer;\r\n    div#decals.close\r\n      width: 127px;\r\n      overflow-x: hidden\r\n      .top_nav\r\n        .recent\r\n          display: none\r\n      .map_wrapper,.recently_wrapper,.top_nav\r\n        width: 1.08rem\r\n    #container\r\n      position fixed\r\n      right 0\r\n      top 0\r\n      bottom 0\r\n      z-index 1\r\n\r\n\r\n\r\n\r\n</style>\r\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tMatrix4,\n\tVector3\n} from '../../../build/three.module.js';\n\n/**\n * You can use this geometry to create a decal mesh, that serves different kinds of purposes.\n * e.g. adding unique details to models, performing dynamic visual environmental changes or covering seams.\n *\n * Constructor parameter:\n *\n * mesh — Any mesh object\n * position — Position of the decal projector\n * orientation — Orientation of the decal projector\n * size — Size of the decal projector\n *\n * reference: http://blog.wolfire.com/2009/06/how-to-project-decals/\n *\n */\n\nvar DecalGeometry = function ( mesh, position, orientation, size ) {\n\n\tBufferGeometry.call( this );\n\n\t// buffers\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helpers\n\n\tvar plane = new Vector3();\n\n\t// this matrix represents the transformation of the decal projector\n\n\tvar projectorMatrix = new Matrix4();\n\tprojectorMatrix.makeRotationFromEuler( orientation );\n\tprojectorMatrix.setPosition( position );\n\n\tvar projectorMatrixInverse = new Matrix4();\n\tprojectorMatrixInverse.copy( projectorMatrix ).invert();\n\n\t// generate buffers\n\n\tgenerate();\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generate() {\n\n\t\tvar i;\n\t\tvar geometry = new BufferGeometry();\n\t\tvar decalVertices = [];\n\n\t\tvar vertex = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\t// handle different geometry types\n\n\t\tif ( mesh.geometry.isGeometry ) {\n\n\t\t\tgeometry.fromGeometry( mesh.geometry );\n\n\t\t} else {\n\n\t\t\tgeometry.copy( mesh.geometry );\n\n\t\t}\n\n\t\tvar positionAttribute = geometry.attributes.position;\n\t\tvar normalAttribute = geometry.attributes.normal;\n\n\t\t// first, create an array of 'DecalVertex' objects\n\t\t// three consecutive 'DecalVertex' objects represent a single face\n\t\t//\n\t\t// this data structure will be later used to perform the clipping\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tvar index = geometry.index;\n\n\t\t\tfor ( i = 0; i < index.count; i ++ ) {\n\n\t\t\t\tvertex.fromBufferAttribute( positionAttribute, index.getX( i ) );\n\t\t\t\tnormal.fromBufferAttribute( normalAttribute, index.getX( i ) );\n\n\t\t\t\tpushDecalVertex( decalVertices, vertex, normal );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tfor ( i = 0; i < positionAttribute.count; i ++ ) {\n\n\t\t\t\tvertex.fromBufferAttribute( positionAttribute, i );\n\t\t\t\tnormal.fromBufferAttribute( normalAttribute, i );\n\n\t\t\t\tpushDecalVertex( decalVertices, vertex, normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// second, clip the geometry so that it doesn't extend out from the projector\n\n\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 1, 0, 0 ) );\n\t\tdecalVertices = clipGeometry( decalVertices, plane.set( - 1, 0, 0 ) );\n\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, 1, 0 ) );\n\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, - 1, 0 ) );\n\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, 0, 1 ) );\n\t\tdecalVertices = clipGeometry( decalVertices, plane.set( 0, 0, - 1 ) );\n\n\t\t// third, generate final vertices, normals and uvs\n\n\t\tfor ( i = 0; i < decalVertices.length; i ++ ) {\n\n\t\t\tvar decalVertex = decalVertices[ i ];\n\n\t\t\t// create texture coordinates (we are still in projector space)\n\n\t\t\tuvs.push(\n\t\t\t\t0.5 + ( decalVertex.position.x / size.x ),\n\t\t\t\t0.5 + ( decalVertex.position.y / size.y )\n\t\t\t);\n\n\t\t\t// transform the vertex back to world space\n\n\t\t\tdecalVertex.position.applyMatrix4( projectorMatrix );\n\n\t\t\t// now create vertex and normal buffer data\n\n\t\t\tvertices.push( decalVertex.position.x, decalVertex.position.y, decalVertex.position.z );\n\t\t\tnormals.push( decalVertex.normal.x, decalVertex.normal.y, decalVertex.normal.z );\n\n\t\t}\n\n\t}\n\n\tfunction pushDecalVertex( decalVertices, vertex, normal ) {\n\n\t\t// transform the vertex to world space, then to projector space\n\n\t\tvertex.applyMatrix4( mesh.matrixWorld );\n\t\tvertex.applyMatrix4( projectorMatrixInverse );\n\n\t\tnormal.transformDirection( mesh.matrixWorld );\n\n\t\tdecalVertices.push( new DecalVertex( vertex.clone(), normal.clone() ) );\n\n\t}\n\n\tfunction clipGeometry( inVertices, plane ) {\n\n\t\tvar outVertices = [];\n\n\t\tvar s = 0.5 * Math.abs( size.dot( plane ) );\n\n\t\t// a single iteration clips one face,\n\t\t// which consists of three consecutive 'DecalVertex' objects\n\n\t\tfor ( var i = 0; i < inVertices.length; i += 3 ) {\n\n\t\t\tvar v1Out, v2Out, v3Out, total = 0;\n\t\t\tvar nV1, nV2, nV3, nV4;\n\n\t\t\tvar d1 = inVertices[ i + 0 ].position.dot( plane ) - s;\n\t\t\tvar d2 = inVertices[ i + 1 ].position.dot( plane ) - s;\n\t\t\tvar d3 = inVertices[ i + 2 ].position.dot( plane ) - s;\n\n\t\t\tv1Out = d1 > 0;\n\t\t\tv2Out = d2 > 0;\n\t\t\tv3Out = d3 > 0;\n\n\t\t\t// calculate, how many vertices of the face lie outside of the clipping plane\n\n\t\t\ttotal = ( v1Out ? 1 : 0 ) + ( v2Out ? 1 : 0 ) + ( v3Out ? 1 : 0 );\n\n\t\t\tswitch ( total ) {\n\n\t\t\t\tcase 0: {\n\n\t\t\t\t\t// the entire face lies inside of the plane, no clipping needed\n\n\t\t\t\t\toutVertices.push( inVertices[ i ] );\n\t\t\t\t\toutVertices.push( inVertices[ i + 1 ] );\n\t\t\t\t\toutVertices.push( inVertices[ i + 2 ] );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tcase 1: {\n\n\t\t\t\t\t// one vertex lies outside of the plane, perform clipping\n\n\t\t\t\t\tif ( v1Out ) {\n\n\t\t\t\t\t\tnV1 = inVertices[ i + 1 ];\n\t\t\t\t\t\tnV2 = inVertices[ i + 2 ];\n\t\t\t\t\t\tnV3 = clip( inVertices[ i ], nV1, plane, s );\n\t\t\t\t\t\tnV4 = clip( inVertices[ i ], nV2, plane, s );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( v2Out ) {\n\n\t\t\t\t\t\tnV1 = inVertices[ i ];\n\t\t\t\t\t\tnV2 = inVertices[ i + 2 ];\n\t\t\t\t\t\tnV3 = clip( inVertices[ i + 1 ], nV1, plane, s );\n\t\t\t\t\t\tnV4 = clip( inVertices[ i + 1 ], nV2, plane, s );\n\n\t\t\t\t\t\toutVertices.push( nV3 );\n\t\t\t\t\t\toutVertices.push( nV2.clone() );\n\t\t\t\t\t\toutVertices.push( nV1.clone() );\n\n\t\t\t\t\t\toutVertices.push( nV2.clone() );\n\t\t\t\t\t\toutVertices.push( nV3.clone() );\n\t\t\t\t\t\toutVertices.push( nV4 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( v3Out ) {\n\n\t\t\t\t\t\tnV1 = inVertices[ i ];\n\t\t\t\t\t\tnV2 = inVertices[ i + 1 ];\n\t\t\t\t\t\tnV3 = clip( inVertices[ i + 2 ], nV1, plane, s );\n\t\t\t\t\t\tnV4 = clip( inVertices[ i + 2 ], nV2, plane, s );\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutVertices.push( nV1.clone() );\n\t\t\t\t\toutVertices.push( nV2.clone() );\n\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\toutVertices.push( nV4 );\n\t\t\t\t\toutVertices.push( nV3.clone() );\n\t\t\t\t\toutVertices.push( nV2.clone() );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tcase 2: {\n\n\t\t\t\t\t// two vertices lies outside of the plane, perform clipping\n\n\t\t\t\t\tif ( ! v1Out ) {\n\n\t\t\t\t\t\tnV1 = inVertices[ i ].clone();\n\t\t\t\t\t\tnV2 = clip( nV1, inVertices[ i + 1 ], plane, s );\n\t\t\t\t\t\tnV3 = clip( nV1, inVertices[ i + 2 ], plane, s );\n\t\t\t\t\t\toutVertices.push( nV1 );\n\t\t\t\t\t\toutVertices.push( nV2 );\n\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! v2Out ) {\n\n\t\t\t\t\t\tnV1 = inVertices[ i + 1 ].clone();\n\t\t\t\t\t\tnV2 = clip( nV1, inVertices[ i + 2 ], plane, s );\n\t\t\t\t\t\tnV3 = clip( nV1, inVertices[ i ], plane, s );\n\t\t\t\t\t\toutVertices.push( nV1 );\n\t\t\t\t\t\toutVertices.push( nV2 );\n\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! v3Out ) {\n\n\t\t\t\t\t\tnV1 = inVertices[ i + 2 ].clone();\n\t\t\t\t\t\tnV2 = clip( nV1, inVertices[ i ], plane, s );\n\t\t\t\t\t\tnV3 = clip( nV1, inVertices[ i + 1 ], plane, s );\n\t\t\t\t\t\toutVertices.push( nV1 );\n\t\t\t\t\t\toutVertices.push( nV2 );\n\t\t\t\t\t\toutVertices.push( nV3 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tcase 3: {\n\n\t\t\t\t\t// the entire face lies outside of the plane, so let's discard the corresponding vertices\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn outVertices;\n\n\t}\n\n\tfunction clip( v0, v1, p, s ) {\n\n\t\tvar d0 = v0.position.dot( p ) - s;\n\t\tvar d1 = v1.position.dot( p ) - s;\n\n\t\tvar s0 = d0 / ( d0 - d1 );\n\n\t\tvar v = new DecalVertex(\n\t\t\tnew Vector3(\n\t\t\t\tv0.position.x + s0 * ( v1.position.x - v0.position.x ),\n\t\t\t\tv0.position.y + s0 * ( v1.position.y - v0.position.y ),\n\t\t\t\tv0.position.z + s0 * ( v1.position.z - v0.position.z )\n\t\t\t),\n\t\t\tnew Vector3(\n\t\t\t\tv0.normal.x + s0 * ( v1.normal.x - v0.normal.x ),\n\t\t\t\tv0.normal.y + s0 * ( v1.normal.y - v0.normal.y ),\n\t\t\t\tv0.normal.z + s0 * ( v1.normal.z - v0.normal.z )\n\t\t\t)\n\t\t);\n\n\t\t// need to clip more values (texture coordinates)? do it this way:\n\t\t// intersectpoint.value = a.value + s * ( b.value - a.value );\n\n\t\treturn v;\n\n\t}\n\n};\n\nDecalGeometry.prototype = Object.create( BufferGeometry.prototype );\nDecalGeometry.prototype.constructor = DecalGeometry;\n\n// helper\n\nvar DecalVertex = function ( position, normal ) {\n\n\tthis.position = position;\n\tthis.normal = normal;\n\n};\n\nDecalVertex.prototype.clone = function () {\n\n\treturn new this.constructor( this.position.clone(), this.normal.clone() );\n\n};\n\nexport { DecalGeometry, DecalVertex };\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction ___$insertStyle( css ) {\n\n\tif ( ! css ) {\n\n\t\treturn;\n\n\t}\n\tif ( typeof window === 'undefined' ) {\n\n\t\treturn;\n\n\t}\n\n\tvar style = document.createElement( 'style' );\n\n\tstyle.setAttribute( 'type', 'text/css' );\n\tstyle.innerHTML = css;\n\tdocument.head.appendChild( style );\n\n\treturn css;\n\n}\n\nfunction colorToString( color, forceCSSHex ) {\n\n\tvar colorFormat = color.__state.conversionName.toString();\n\tvar r = Math.round( color.r );\n\tvar g = Math.round( color.g );\n\tvar b = Math.round( color.b );\n\tvar a = color.a;\n\tvar h = Math.round( color.h );\n\tvar s = color.s.toFixed( 1 );\n\tvar v = color.v.toFixed( 1 );\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\n\n\t\tvar str = color.hex.toString( 16 );\n\t\twhile ( str.length < 6 ) {\n\n\t\t\tstr = '0' + str;\n\n\t\t}\n\t\treturn '#' + str;\n\n\t} else if ( colorFormat === 'CSS_RGB' ) {\n\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\n\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\n\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n\t} else if ( colorFormat === 'HEX' ) {\n\n\t\treturn '0x' + color.hex.toString( 16 );\n\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\n\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\n\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\n\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\n\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\n\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\n\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\n\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\n\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\n\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\n\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n\n\t}\n\treturn 'unknown format';\n\n}\n\nvar ARR_EACH = Array.prototype.forEach;\nvar ARR_SLICE = Array.prototype.slice;\nvar Common = {\n\tBREAK: {},\n\textend: function extend( target ) {\n\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\n\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\n\n\t\t\t\t\ttarget[ key ] = obj[ key ];\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ) );\n\n\t\t}, this );\n\t\treturn target;\n\n\t},\n\tdefaults: function defaults( target ) {\n\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\n\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\n\n\t\t\t\t\ttarget[ key ] = obj[ key ];\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ) );\n\n\t\t}, this );\n\t\treturn target;\n\n\t},\n\tcompose: function compose() {\n\n\t\tvar toCall = ARR_SLICE.call( arguments );\n\t\treturn function () {\n\n\t\t\tvar args = ARR_SLICE.call( arguments );\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\n\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\n\n\t\t\t}\n\t\t\treturn args[ 0 ];\n\n\t\t};\n\n\t},\n\teach: function each( obj, itr, scope ) {\n\n\t\tif ( ! obj ) {\n\n\t\t\treturn;\n\n\t\t}\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\n\n\t\t\tobj.forEach( itr, scope );\n\n\t\t} else if ( obj.length === obj.length + 0 ) {\n\n\t\t\tvar key = void 0;\n\t\t\tvar l = void 0;\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\n\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( var _key in obj ) {\n\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\tdefer: function defer( fnc ) {\n\n\t\tsetTimeout( fnc, 0 );\n\n\t},\n\tdebounce: function debounce( func, threshold, callImmediately ) {\n\n\t\tvar timeout = void 0;\n\t\treturn function () {\n\n\t\t\tvar obj = this;\n\t\t\tvar args = arguments;\n\t\t\tfunction delayed() {\n\n\t\t\t\ttimeout = null;\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\n\n\t\t\t}\n\t\t\tvar callNow = callImmediately || ! timeout;\n\t\t\tclearTimeout( timeout );\n\t\t\ttimeout = setTimeout( delayed, threshold );\n\t\t\tif ( callNow ) {\n\n\t\t\t\tfunc.apply( obj, args );\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\ttoArray: function toArray( obj ) {\n\n\t\tif ( obj.toArray ) return obj.toArray();\n\t\treturn ARR_SLICE.call( obj );\n\n\t},\n\tisUndefined: function isUndefined( obj ) {\n\n\t\treturn obj === undefined;\n\n\t},\n\tisNull: function isNull( obj ) {\n\n\t\treturn obj === null;\n\n\t},\n\tisNaN: function ( _isNaN ) {\n\n\t\tfunction isNaN() {\n\n\t\t\treturn _isNaN.apply( this, arguments );\n\n\t\t}\n\t\tisNaN.toString = function () {\n\n\t\t\treturn _isNaN.toString();\n\n\t\t};\n\t\treturn isNaN;\n\n\t}( function ( obj ) {\n\n\t\treturn isNaN( obj );\n\n\t} ),\n\tisArray: Array.isArray || function ( obj ) {\n\n\t\treturn obj.constructor === Array;\n\n\t},\n\tisObject: function isObject( obj ) {\n\n\t\treturn obj === Object( obj );\n\n\t},\n\tisNumber: function isNumber( obj ) {\n\n\t\treturn obj === obj + 0;\n\n\t},\n\tisString: function isString( obj ) {\n\n\t\treturn obj === obj + '';\n\n\t},\n\tisBoolean: function isBoolean( obj ) {\n\n\t\treturn obj === false || obj === true;\n\n\t},\n\tisFunction: function isFunction( obj ) {\n\n\t\treturn obj instanceof Function;\n\n\t}\n};\n\nvar INTERPRETATIONS = [\n\t{\n\t\tlitmus: Common.isString,\n\t\tconversions: {\n\t\t\tTHREE_CHAR_HEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tSIX_CHAR_HEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tCSS_RGB: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tCSS_RGBA: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isNumber,\n\t\tconversions: {\n\t\t\tHEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: original,\n\t\t\t\t\t\tconversionName: 'HEX'\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn color.hex;\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isArray,\n\t\tconversions: {\n\t\t\tRGB_ARRAY: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( original.length !== 3 ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: original[ 0 ],\n\t\t\t\t\t\tg: original[ 1 ],\n\t\t\t\t\t\tb: original[ 2 ]\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tRGBA_ARRAY: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( original.length !== 4 ) return false;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: original[ 0 ],\n\t\t\t\t\t\tg: original[ 1 ],\n\t\t\t\t\t\tb: original[ 2 ],\n\t\t\t\t\t\ta: original[ 3 ]\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isObject,\n\t\tconversions: {\n\t\t\tRGBA_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\t\tr: original.r,\n\t\t\t\t\t\t\tg: original.g,\n\t\t\t\t\t\t\tb: original.b,\n\t\t\t\t\t\t\ta: original.a\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tr: color.r,\n\t\t\t\t\t\tg: color.g,\n\t\t\t\t\t\tb: color.b,\n\t\t\t\t\t\ta: color.a\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tRGB_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\t\tr: original.r,\n\t\t\t\t\t\t\tg: original.g,\n\t\t\t\t\t\t\tb: original.b\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tr: color.r,\n\t\t\t\t\t\tg: color.g,\n\t\t\t\t\t\tb: color.b\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tHSVA_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'HSV',\n\t\t\t\t\t\t\th: original.h,\n\t\t\t\t\t\t\ts: original.s,\n\t\t\t\t\t\t\tv: original.v,\n\t\t\t\t\t\t\ta: original.a\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\th: color.h,\n\t\t\t\t\t\ts: color.s,\n\t\t\t\t\t\tv: color.v,\n\t\t\t\t\t\ta: color.a\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tHSV_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'HSV',\n\t\t\t\t\t\t\th: original.h,\n\t\t\t\t\t\t\ts: original.s,\n\t\t\t\t\t\t\tv: original.v\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\th: color.h,\n\t\t\t\t\t\ts: color.s,\n\t\t\t\t\t\tv: color.v\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} ];\nvar result = void 0;\nvar toReturn = void 0;\nvar interpret = function interpret() {\n\n\ttoReturn = false;\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\n\tCommon.each( INTERPRETATIONS, function ( family ) {\n\n\t\tif ( family.litmus( original ) ) {\n\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\n\n\t\t\t\tresult = conversion.read( original );\n\t\t\t\tif ( toReturn === false && result !== false ) {\n\n\t\t\t\t\ttoReturn = result;\n\t\t\t\t\tresult.conversionName = conversionName;\n\t\t\t\t\tresult.conversion = conversion;\n\t\t\t\t\treturn Common.BREAK;\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t\treturn Common.BREAK;\n\n\t\t}\n\n\t} );\n\treturn toReturn;\n\n};\n\nvar tmpComponent = void 0;\nvar ColorMath = {\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\n\n\t\tvar hi = Math.floor( h / 60 ) % 6;\n\t\tvar f = h / 60 - Math.floor( h / 60 );\n\t\tvar p = v * ( 1.0 - s );\n\t\tvar q = v * ( 1.0 - f * s );\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\n\t\treturn {\n\t\t\tr: c[ 0 ] * 255,\n\t\t\tg: c[ 1 ] * 255,\n\t\t\tb: c[ 2 ] * 255\n\t\t};\n\n\t},\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\n\n\t\tvar min = Math.min( r, g, b );\n\t\tvar max = Math.max( r, g, b );\n\t\tvar delta = max - min;\n\t\tvar h = void 0;\n\t\tvar s = void 0;\n\t\tif ( max !== 0 ) {\n\n\t\t\ts = delta / max;\n\n\t\t} else {\n\n\t\t\treturn {\n\t\t\t\th: NaN,\n\t\t\t\ts: 0,\n\t\t\t\tv: 0\n\t\t\t};\n\n\t\t}\n\t\tif ( r === max ) {\n\n\t\t\th = ( g - b ) / delta;\n\n\t\t} else if ( g === max ) {\n\n\t\t\th = 2 + ( b - r ) / delta;\n\n\t\t} else {\n\n\t\t\th = 4 + ( r - g ) / delta;\n\n\t\t}\n\t\th /= 6;\n\t\tif ( h < 0 ) {\n\n\t\t\th += 1;\n\n\t\t}\n\t\treturn {\n\t\t\th: h * 360,\n\t\t\ts: s,\n\t\t\tv: max / 255\n\t\t};\n\n\t},\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\n\n\t\tvar hex = this.hex_with_component( 0, 2, r );\n\t\thex = this.hex_with_component( hex, 1, g );\n\t\thex = this.hex_with_component( hex, 0, b );\n\t\treturn hex;\n\n\t},\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\n\n\t\treturn hex >> componentIndex * 8 & 0xFF;\n\n\t},\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\n\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\n\n\t}\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\n\n\treturn typeof obj;\n\n} : function ( obj ) {\n\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function ( instance, Constructor ) {\n\n\tif ( ! ( instance instanceof Constructor ) ) {\n\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\n\n\t}\n\n};\n\nvar createClass = function () {\n\n\tfunction defineProperties( target, props ) {\n\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\n\n\t\t\tvar descriptor = props[ i ];\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\n\t\t\tdescriptor.configurable = true;\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\n\n\t\t}\n\n\t}\n\n\treturn function ( Constructor, protoProps, staticProps ) {\n\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\n\t\treturn Constructor;\n\n\t};\n\n}();\n\n\n\n\n\n\n\nvar get = function get( object, property, receiver ) {\n\n\tif ( object === null ) object = Function.prototype;\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\n\n\tif ( desc === undefined ) {\n\n\t\tvar parent = Object.getPrototypeOf( object );\n\n\t\tif ( parent === null ) {\n\n\t\t\treturn undefined;\n\n\t\t} else {\n\n\t\t\treturn get( parent, property, receiver );\n\n\t\t}\n\n\t} else if ( \"value\" in desc ) {\n\n\t\treturn desc.value;\n\n\t} else {\n\n\t\tvar getter = desc.get;\n\n\t\tif ( getter === undefined ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn getter.call( receiver );\n\n\t}\n\n};\n\nvar inherits = function ( subClass, superClass ) {\n\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\n\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\n\n\t}\n\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: subClass,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t} );\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\n\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function ( self, call ) {\n\n\tif ( ! self ) {\n\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\n\n\t}\n\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\n\n};\n\nvar Color = function () {\n\n\tfunction Color() {\n\n\t\tclassCallCheck( this, Color );\n\t\tthis.__state = interpret.apply( this, arguments );\n\t\tif ( this.__state === false ) {\n\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\n\n\t\t}\n\t\tthis.__state.a = this.__state.a || 1;\n\n\t}\n\tcreateClass( Color, [ {\n\t\tkey: 'toString',\n\t\tvalue: function toString() {\n\n\t\t\treturn colorToString( this );\n\n\t\t}\n\t}, {\n\t\tkey: 'toHexString',\n\t\tvalue: function toHexString() {\n\n\t\t\treturn colorToString( this, true );\n\n\t\t}\n\t}, {\n\t\tkey: 'toOriginal',\n\t\tvalue: function toOriginal() {\n\n\t\t\treturn this.__state.conversion.write( this );\n\n\t\t}\n\t} ] );\n\treturn Color;\n\n}();\nfunction defineRGBComponent( target, component, componentHexIndex ) {\n\n\tObject.defineProperty( target, component, {\n\t\tget: function get$$1() {\n\n\t\t\tif ( this.__state.space === 'RGB' ) {\n\n\t\t\t\treturn this.__state[ component ];\n\n\t\t\t}\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\n\t\t\treturn this.__state[ component ];\n\n\t\t},\n\t\tset: function set$$1( v ) {\n\n\t\t\tif ( this.__state.space !== 'RGB' ) {\n\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\n\t\t\t\tthis.__state.space = 'RGB';\n\n\t\t\t}\n\t\t\tthis.__state[ component ] = v;\n\n\t\t}\n\t} );\n\n}\nfunction defineHSVComponent( target, component ) {\n\n\tObject.defineProperty( target, component, {\n\t\tget: function get$$1() {\n\n\t\t\tif ( this.__state.space === 'HSV' ) {\n\n\t\t\t\treturn this.__state[ component ];\n\n\t\t\t}\n\t\t\tColor.recalculateHSV( this );\n\t\t\treturn this.__state[ component ];\n\n\t\t},\n\t\tset: function set$$1( v ) {\n\n\t\t\tif ( this.__state.space !== 'HSV' ) {\n\n\t\t\t\tColor.recalculateHSV( this );\n\t\t\t\tthis.__state.space = 'HSV';\n\n\t\t\t}\n\t\t\tthis.__state[ component ] = v;\n\n\t\t}\n\t} );\n\n}\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\n\n\tif ( color.__state.space === 'HEX' ) {\n\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\n\n\t} else if ( color.__state.space === 'HSV' ) {\n\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\n\n\t} else {\n\n\t\tthrow new Error( 'Corrupted color state' );\n\n\t}\n\n};\nColor.recalculateHSV = function ( color ) {\n\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\n\tCommon.extend( color.__state, {\n\t\ts: result.s,\n\t\tv: result.v\n\t} );\n\tif ( ! Common.isNaN( result.h ) ) {\n\n\t\tcolor.__state.h = result.h;\n\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\n\n\t\tcolor.__state.h = 0;\n\n\t}\n\n};\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\ndefineRGBComponent( Color.prototype, 'r', 2 );\ndefineRGBComponent( Color.prototype, 'g', 1 );\ndefineRGBComponent( Color.prototype, 'b', 0 );\ndefineHSVComponent( Color.prototype, 'h' );\ndefineHSVComponent( Color.prototype, 's' );\ndefineHSVComponent( Color.prototype, 'v' );\nObject.defineProperty( Color.prototype, 'a', {\n\tget: function get$$1() {\n\n\t\treturn this.__state.a;\n\n\t},\n\tset: function set$$1( v ) {\n\n\t\tthis.__state.a = v;\n\n\t}\n} );\nObject.defineProperty( Color.prototype, 'hex', {\n\tget: function get$$1() {\n\n\t\tif ( this.__state.space !== 'HEX' ) {\n\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\n\t\t\tthis.__state.space = 'HEX';\n\n\t\t}\n\t\treturn this.__state.hex;\n\n\t},\n\tset: function set$$1( v ) {\n\n\t\tthis.__state.space = 'HEX';\n\t\tthis.__state.hex = v;\n\n\t}\n} );\n\nvar Controller = function () {\n\n\tfunction Controller( object, property ) {\n\n\t\tclassCallCheck( this, Controller );\n\t\tthis.initialValue = object[ property ];\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.object = object;\n\t\tthis.property = property;\n\t\tthis.__onChange = undefined;\n\t\tthis.__onFinishChange = undefined;\n\n\t}\n\tcreateClass( Controller, [ {\n\t\tkey: 'onChange',\n\t\tvalue: function onChange( fnc ) {\n\n\t\t\tthis.__onChange = fnc;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'onFinishChange',\n\t\tvalue: function onFinishChange( fnc ) {\n\n\t\t\tthis.__onFinishChange = fnc;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( newValue ) {\n\n\t\t\tthis.object[ this.property ] = newValue;\n\t\t\tif ( this.__onChange ) {\n\n\t\t\t\tthis.__onChange.call( this, newValue );\n\n\t\t\t}\n\t\t\tthis.updateDisplay();\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'getValue',\n\t\tvalue: function getValue() {\n\n\t\t\treturn this.object[ this.property ];\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'isModified',\n\t\tvalue: function isModified() {\n\n\t\t\treturn this.initialValue !== this.getValue();\n\n\t\t}\n\t} ] );\n\treturn Controller;\n\n}();\n\nvar EVENT_MAP = {\n\tHTMLEvents: [ 'change' ],\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\n\tKeyboardEvents: [ 'keydown' ]\n};\nvar EVENT_MAP_INV = {};\nCommon.each( EVENT_MAP, function ( v, k ) {\n\n\tCommon.each( v, function ( e ) {\n\n\t\tEVENT_MAP_INV[ e ] = k;\n\n\t} );\n\n} );\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\nfunction cssValueToPixels( val ) {\n\n\tif ( val === '0' || Common.isUndefined( val ) ) {\n\n\t\treturn 0;\n\n\t}\n\tvar match = val.match( CSS_VALUE_PIXELS );\n\tif ( ! Common.isNull( match ) ) {\n\n\t\treturn parseFloat( match[ 1 ] );\n\n\t}\n\treturn 0;\n\n}\nvar dom = {\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\n\n\t\tif ( elem === undefined || elem.style === undefined ) return;\n\t\telem.onselectstart = selectable ? function () {\n\n\t\t\treturn false;\n\n\t\t} : function () {};\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n\t\telem.unselectable = selectable ? 'on' : 'off';\n\n\t},\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\n\n\t\tvar vertical = vert;\n\t\tvar horizontal = hor;\n\t\tif ( Common.isUndefined( horizontal ) ) {\n\n\t\t\thorizontal = true;\n\n\t\t}\n\t\tif ( Common.isUndefined( vertical ) ) {\n\n\t\t\tvertical = true;\n\n\t\t}\n\t\telem.style.position = 'absolute';\n\t\tif ( horizontal ) {\n\n\t\t\telem.style.left = 0;\n\t\t\telem.style.right = 0;\n\n\t\t}\n\t\tif ( vertical ) {\n\n\t\t\telem.style.top = 0;\n\t\t\telem.style.bottom = 0;\n\n\t\t}\n\n\t},\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\n\n\t\tvar params = pars || {};\n\t\tvar className = EVENT_MAP_INV[ eventType ];\n\t\tif ( ! className ) {\n\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\n\n\t\t}\n\t\tvar evt = document.createEvent( className );\n\t\tswitch ( className ) {\n\n\t\t\tcase 'MouseEvents':\n\t\t\t{\n\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n\t\t\t\t\t0,\n\t\t\t\t\tclientX,\n\t\t\t\t\tclientY,\n\t\t\t\t\tfalse, false, false, false, 0, null );\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tcase 'KeyboardEvents':\n\t\t\t{\n\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\n\t\t\t\tCommon.defaults( params, {\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tctrlKey: false,\n\t\t\t\t\taltKey: false,\n\t\t\t\t\tshiftKey: false,\n\t\t\t\t\tmetaKey: false,\n\t\t\t\t\tkeyCode: undefined,\n\t\t\t\t\tcharCode: undefined\n\t\t\t\t} );\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tdefault:\n\t\t\t{\n\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\t\tCommon.defaults( evt, aux );\n\t\telem.dispatchEvent( evt );\n\n\t},\n\tbind: function bind( elem, event, func, newBool ) {\n\n\t\tvar bool = newBool || false;\n\t\tif ( elem.addEventListener ) {\n\n\t\t\telem.addEventListener( event, func, bool );\n\n\t\t} else if ( elem.attachEvent ) {\n\n\t\t\telem.attachEvent( 'on' + event, func );\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\tunbind: function unbind( elem, event, func, newBool ) {\n\n\t\tvar bool = newBool || false;\n\t\tif ( elem.removeEventListener ) {\n\n\t\t\telem.removeEventListener( event, func, bool );\n\n\t\t} else if ( elem.detachEvent ) {\n\n\t\t\telem.detachEvent( 'on' + event, func );\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\taddClass: function addClass( elem, className ) {\n\n\t\tif ( elem.className === undefined ) {\n\n\t\t\telem.className = className;\n\n\t\t} else if ( elem.className !== className ) {\n\n\t\t\tvar classes = elem.className.split( / +/ );\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\n\n\t\t\t\tclasses.push( className );\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\n\n\t\t\t}\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\tremoveClass: function removeClass( elem, className ) {\n\n\t\tif ( className ) {\n\n\t\t\tif ( elem.className === className ) {\n\n\t\t\t\telem.removeAttribute( 'class' );\n\n\t\t\t} else {\n\n\t\t\t\tvar classes = elem.className.split( / +/ );\n\t\t\t\tvar index = classes.indexOf( className );\n\t\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\t\tclasses.splice( index, 1 );\n\t\t\t\t\telem.className = classes.join( ' ' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\telem.className = undefined;\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\thasClass: function hasClass( elem, className ) {\n\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\n\n\t},\n\tgetWidth: function getWidth( elem ) {\n\n\t\tvar style = getComputedStyle( elem );\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\n\n\t},\n\tgetHeight: function getHeight( elem ) {\n\n\t\tvar style = getComputedStyle( elem );\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\n\n\t},\n\tgetOffset: function getOffset( el ) {\n\n\t\tvar elem = el;\n\t\tvar offset = { left: 0, top: 0 };\n\t\tif ( elem.offsetParent ) {\n\n\t\t\tdo {\n\n\t\t\t\toffset.left += elem.offsetLeft;\n\t\t\t\toffset.top += elem.offsetTop;\n\t\t\t\telem = elem.offsetParent;\n\n\t\t\t} while ( elem );\n\n\t\t}\n\t\treturn offset;\n\n\t},\n\tisActive: function isActive( elem ) {\n\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\n\n\t}\n};\n\nvar BooleanController = function ( _Controller ) {\n\n\tinherits( BooleanController, _Controller );\n\tfunction BooleanController( object, property ) {\n\n\t\tclassCallCheck( this, BooleanController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\t_this2.__prev = _this2.getValue();\n\t\t_this2.__checkbox = document.createElement( 'input' );\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\n\t\tfunction onChange() {\n\n\t\t\t_this.setValue( ! _this.__prev );\n\n\t\t}\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\n\t\t_this2.updateDisplay();\n\t\treturn _this2;\n\n\t}\n\tcreateClass( BooleanController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\t\t\tthis.__prev = this.getValue();\n\t\t\treturn toReturn;\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( this.getValue() === true ) {\n\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\n\t\t\t\tthis.__checkbox.checked = true;\n\t\t\t\tthis.__prev = true;\n\n\t\t\t} else {\n\n\t\t\t\tthis.__checkbox.checked = false;\n\t\t\t\tthis.__prev = false;\n\n\t\t\t}\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn BooleanController;\n\n}( Controller );\n\nvar OptionController = function ( _Controller ) {\n\n\tinherits( OptionController, _Controller );\n\tfunction OptionController( object, property, opts ) {\n\n\t\tclassCallCheck( this, OptionController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\n\t\tvar options = opts;\n\t\tvar _this = _this2;\n\t\t_this2.__select = document.createElement( 'select' );\n\t\tif ( Common.isArray( options ) ) {\n\n\t\t\tvar map = {};\n\t\t\tCommon.each( options, function ( element ) {\n\n\t\t\t\tmap[ element ] = element;\n\n\t\t\t} );\n\t\t\toptions = map;\n\n\t\t}\n\t\tCommon.each( options, function ( value, key ) {\n\n\t\t\tvar opt = document.createElement( 'option' );\n\t\t\topt.innerHTML = key;\n\t\t\topt.setAttribute( 'value', value );\n\t\t\t_this.__select.appendChild( opt );\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\tdom.bind( _this2.__select, 'change', function () {\n\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\n\t\t\t_this.setValue( desiredValue );\n\n\t\t} );\n\t\t_this2.domElement.appendChild( _this2.__select );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( OptionController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\t\t\treturn toReturn;\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\n\t\t\tthis.__select.value = this.getValue();\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn OptionController;\n\n}( Controller );\n\nvar StringController = function ( _Controller ) {\n\n\tinherits( StringController, _Controller );\n\tfunction StringController( object, property ) {\n\n\t\tclassCallCheck( this, StringController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\tfunction onChange() {\n\n\t\t\t_this.setValue( _this.__input.value );\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.setAttribute( 'type', 'text' );\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\n\t\tdom.bind( _this2.__input, 'change', onChange );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\tthis.blur();\n\n\t\t\t}\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( StringController, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\n\n\t\t\t\tthis.__input.value = this.getValue();\n\n\t\t\t}\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn StringController;\n\n}( Controller );\n\nfunction numDecimals( x ) {\n\n\tvar _x = x.toString();\n\tif ( _x.indexOf( '.' ) > - 1 ) {\n\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\n\n\t}\n\treturn 0;\n\n}\nvar NumberController = function ( _Controller ) {\n\n\tinherits( NumberController, _Controller );\n\tfunction NumberController( object, property, params ) {\n\n\t\tclassCallCheck( this, NumberController );\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\n\t\tvar _params = params || {};\n\t\t_this.__min = _params.min;\n\t\t_this.__max = _params.max;\n\t\t_this.__step = _params.step;\n\t\tif ( Common.isUndefined( _this.__step ) ) {\n\n\t\t\tif ( _this.initialValue === 0 ) {\n\n\t\t\t\t_this.__impliedStep = 1;\n\n\t\t\t} else {\n\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_this.__impliedStep = _this.__step;\n\n\t\t}\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\n\t\treturn _this;\n\n\t}\n\tcreateClass( NumberController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar _v = v;\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\n\n\t\t\t\t_v = this.__min;\n\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\n\n\t\t\t\t_v = this.__max;\n\n\t\t\t}\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\n\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\n\n\t\t\t}\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\n\n\t\t}\n\t}, {\n\t\tkey: 'min',\n\t\tvalue: function min( minValue ) {\n\n\t\t\tthis.__min = minValue;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'max',\n\t\tvalue: function max( maxValue ) {\n\n\t\t\tthis.__max = maxValue;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'step',\n\t\tvalue: function step( stepValue ) {\n\n\t\t\tthis.__step = stepValue;\n\t\t\tthis.__impliedStep = stepValue;\n\t\t\tthis.__precision = numDecimals( stepValue );\n\t\t\treturn this;\n\n\t\t}\n\t} ] );\n\treturn NumberController;\n\n}( Controller );\n\nfunction roundToDecimal( value, decimals ) {\n\n\tvar tenTo = Math.pow( 10, decimals );\n\treturn Math.round( value * tenTo ) / tenTo;\n\n}\nvar NumberControllerBox = function ( _NumberController ) {\n\n\tinherits( NumberControllerBox, _NumberController );\n\tfunction NumberControllerBox( object, property, params ) {\n\n\t\tclassCallCheck( this, NumberControllerBox );\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\n\t\t_this2.__truncationSuspended = false;\n\t\tvar _this = _this2;\n\t\tvar prevY = void 0;\n\t\tfunction onChange() {\n\n\t\t\tvar attempted = parseFloat( _this.__input.value );\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\n\n\t\t\t\t_this.setValue( attempted );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onFinish() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onMouseDrag( e ) {\n\n\t\t\tvar diff = prevY - e.clientY;\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\n\t\t\tprevY = e.clientY;\n\n\t\t}\n\t\tfunction onMouseUp() {\n\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onMouseDown( e ) {\n\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\n\t\t\tprevY = e.clientY;\n\n\t\t}\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.setAttribute( 'type', 'text' );\n\t\tdom.bind( _this2.__input, 'change', onChange );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\t_this.__truncationSuspended = true;\n\t\t\t\tthis.blur();\n\t\t\t\t_this.__truncationSuspended = false;\n\t\t\t\tonFinish();\n\n\t\t\t}\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( NumberControllerBox, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn NumberControllerBox;\n\n}( NumberController );\n\nfunction map( v, i1, i2, o1, o2 ) {\n\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\n\n}\nvar NumberControllerSlider = function ( _NumberController ) {\n\n\tinherits( NumberControllerSlider, _NumberController );\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\n\n\t\tclassCallCheck( this, NumberControllerSlider );\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\n\t\tvar _this = _this2;\n\t\t_this2.__background = document.createElement( 'div' );\n\t\t_this2.__foreground = document.createElement( 'div' );\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\n\t\tdom.addClass( _this2.__background, 'slider' );\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\n\t\tfunction onMouseDown( e ) {\n\n\t\t\tdocument.activeElement.blur();\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\n\t\t\tonMouseDrag( e );\n\n\t\t}\n\t\tfunction onMouseDrag( e ) {\n\n\t\t\te.preventDefault();\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\n\t\t\treturn false;\n\n\t\t}\n\t\tfunction onMouseUp() {\n\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onTouchStart( e ) {\n\n\t\t\tif ( e.touches.length !== 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\n\t\t\tonTouchMove( e );\n\n\t\t}\n\t\tfunction onTouchMove( e ) {\n\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\n\n\t\t}\n\t\tfunction onTouchEnd() {\n\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.updateDisplay();\n\t\t_this2.__background.appendChild( _this2.__foreground );\n\t\t_this2.domElement.appendChild( _this2.__background );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( NumberControllerSlider, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn NumberControllerSlider;\n\n}( NumberController );\n\nvar FunctionController = function ( _Controller ) {\n\n\tinherits( FunctionController, _Controller );\n\tfunction FunctionController( object, property, text ) {\n\n\t\tclassCallCheck( this, FunctionController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\t_this2.__button = document.createElement( 'div' );\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\n\n\t\t\te.preventDefault();\n\t\t\t_this.fire();\n\t\t\treturn false;\n\n\t\t} );\n\t\tdom.addClass( _this2.__button, 'button' );\n\t\t_this2.domElement.appendChild( _this2.__button );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( FunctionController, [ {\n\t\tkey: 'fire',\n\t\tvalue: function fire() {\n\n\t\t\tif ( this.__onChange ) {\n\n\t\t\t\tthis.__onChange.call( this );\n\n\t\t\t}\n\t\t\tthis.getValue().call( this.object );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t} ] );\n\treturn FunctionController;\n\n}( Controller );\n\nvar ColorController = function ( _Controller ) {\n\n\tinherits( ColorController, _Controller );\n\tfunction ColorController( object, property ) {\n\n\t\tclassCallCheck( this, ColorController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\n\t\t_this2.__color = new Color( _this2.getValue() );\n\t\t_this2.__temp = new Color( 0 );\n\t\tvar _this = _this2;\n\t\t_this2.domElement = document.createElement( 'div' );\n\t\tdom.makeSelectable( _this2.domElement, false );\n\t\t_this2.__selector = document.createElement( 'div' );\n\t\t_this2.__selector.className = 'selector';\n\t\t_this2.__saturation_field = document.createElement( 'div' );\n\t\t_this2.__saturation_field.className = 'saturation-field';\n\t\t_this2.__field_knob = document.createElement( 'div' );\n\t\t_this2.__field_knob.className = 'field-knob';\n\t\t_this2.__field_knob_border = '2px solid ';\n\t\t_this2.__hue_knob = document.createElement( 'div' );\n\t\t_this2.__hue_knob.className = 'hue-knob';\n\t\t_this2.__hue_field = document.createElement( 'div' );\n\t\t_this2.__hue_field.className = 'hue-field';\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.type = 'text';\n\t\t_this2.__input_textShadow = '0 1px 1px ';\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\tonBlur.call( this );\n\n\t\t\t}\n\n\t\t} );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\n\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\n\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\n\n\t\t\t} );\n\n\t\t} );\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\n\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\n\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\n\n\t\t\t} );\n\n\t\t} );\n\t\tvar valueField = document.createElement( 'div' );\n\t\tCommon.extend( _this2.__selector.style, {\n\t\t\twidth: '122px',\n\t\t\theight: '102px',\n\t\t\tpadding: '3px',\n\t\t\tbackgroundColor: '#222',\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n\t\t} );\n\t\tCommon.extend( _this2.__field_knob.style, {\n\t\t\tposition: 'absolute',\n\t\t\twidth: '12px',\n\t\t\theight: '12px',\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n\t\t\tborderRadius: '12px',\n\t\t\tzIndex: 1\n\t\t} );\n\t\tCommon.extend( _this2.__hue_knob.style, {\n\t\t\tposition: 'absolute',\n\t\t\twidth: '15px',\n\t\t\theight: '2px',\n\t\t\tborderRight: '4px solid #fff',\n\t\t\tzIndex: 1\n\t\t} );\n\t\tCommon.extend( _this2.__saturation_field.style, {\n\t\t\twidth: '100px',\n\t\t\theight: '100px',\n\t\t\tborder: '1px solid #555',\n\t\t\tmarginRight: '3px',\n\t\t\tdisplay: 'inline-block',\n\t\t\tcursor: 'pointer'\n\t\t} );\n\t\tCommon.extend( valueField.style, {\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\tbackground: 'none'\n\t\t} );\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\n\t\tCommon.extend( _this2.__hue_field.style, {\n\t\t\twidth: '15px',\n\t\t\theight: '100px',\n\t\t\tborder: '1px solid #555',\n\t\t\tcursor: 'ns-resize',\n\t\t\tposition: 'absolute',\n\t\t\ttop: '3px',\n\t\t\tright: '3px'\n\t\t} );\n\t\thueGradient( _this2.__hue_field );\n\t\tCommon.extend( _this2.__input.style, {\n\t\t\toutline: 'none',\n\t\t\ttextAlign: 'center',\n\t\t\tcolor: '#fff',\n\t\t\tborder: 0,\n\t\t\tfontWeight: 'bold',\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n\t\t} );\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\n\t\tfunction fieldDown( e ) {\n\n\t\t\tsetSV( e );\n\t\t\tdom.bind( window, 'mousemove', setSV );\n\t\t\tdom.bind( window, 'touchmove', setSV );\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\n\n\t\t}\n\t\tfunction fieldDownH( e ) {\n\n\t\t\tsetH( e );\n\t\t\tdom.bind( window, 'mousemove', setH );\n\t\t\tdom.bind( window, 'touchmove', setH );\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\n\n\t\t}\n\t\tfunction fieldUpSV() {\n\n\t\t\tdom.unbind( window, 'mousemove', setSV );\n\t\t\tdom.unbind( window, 'touchmove', setSV );\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction fieldUpH() {\n\n\t\t\tdom.unbind( window, 'mousemove', setH );\n\t\t\tdom.unbind( window, 'touchmove', setH );\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tvar i = interpret( this.value );\n\t\t\tif ( i !== false ) {\n\n\t\t\t\t_this.__color.__state = i;\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\n\n\t\t\t} else {\n\n\t\t\t\tthis.value = _this.__color.toString();\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onFinish() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.__saturation_field.appendChild( valueField );\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\t_this2.domElement.appendChild( _this2.__selector );\n\t\t_this2.updateDisplay();\n\t\tfunction setSV( e ) {\n\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\n\t\t\t\tclientX = _ref.clientX,\n\t\t\t\tclientY = _ref.clientY;\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\n\t\t\tif ( v > 1 ) {\n\n\t\t\t\tv = 1;\n\n\t\t\t} else if ( v < 0 ) {\n\n\t\t\t\tv = 0;\n\n\t\t\t}\n\t\t\tif ( s > 1 ) {\n\n\t\t\t\ts = 1;\n\n\t\t\t} else if ( s < 0 ) {\n\n\t\t\t\ts = 0;\n\n\t\t\t}\n\t\t\t_this.__color.v = v;\n\t\t\t_this.__color.s = s;\n\t\t\t_this.setValue( _this.__color.toOriginal() );\n\t\t\treturn false;\n\n\t\t}\n\t\tfunction setH( e ) {\n\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\n\t\t\t\tclientY = _ref2.clientY;\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\n\t\t\tif ( h > 1 ) {\n\n\t\t\t\th = 1;\n\n\t\t\t} else if ( h < 0 ) {\n\n\t\t\t\th = 0;\n\n\t\t\t}\n\t\t\t_this.__color.h = h * 360;\n\t\t\t_this.setValue( _this.__color.toOriginal() );\n\t\t\treturn false;\n\n\t\t}\n\t\treturn _this2;\n\n\t}\n\tcreateClass( ColorController, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tvar i = interpret( this.getValue() );\n\t\t\tif ( i !== false ) {\n\n\t\t\t\tvar mismatch = false;\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\n\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\n\n\t\t\t\t\t\tmismatch = true;\n\t\t\t\t\t\treturn {};\n\n\t\t\t\t\t}\n\n\t\t\t\t}, this );\n\t\t\t\tif ( mismatch ) {\n\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\n\t\t\tthis.__temp.a = 1;\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n\t\t\tvar _flip = 255 - flip;\n\t\t\tCommon.extend( this.__field_knob.style, {\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n\t\t\t} );\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\n\t\t\tthis.__temp.s = 1;\n\t\t\tthis.__temp.v = 1;\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\n\t\t\tthis.__input.value = this.__color.toString();\n\t\t\tCommon.extend( this.__input.style, {\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n\t\t\t} );\n\n\t\t}\n\t} ] );\n\treturn ColorController;\n\n}( Controller );\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\nfunction linearGradient( elem, x, a, b ) {\n\n\telem.style.background = '';\n\tCommon.each( vendors, function ( vendor ) {\n\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n\n\t} );\n\n}\nfunction hueGradient( elem ) {\n\n\telem.style.background = '';\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\n}\n\nvar css = {\n\tload: function load( url, indoc ) {\n\n\t\tvar doc = indoc || document;\n\t\tvar link = doc.createElement( 'link' );\n\t\tlink.type = 'text/css';\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = url;\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\n\n\t},\n\tinject: function inject( cssContent, indoc ) {\n\n\t\tvar doc = indoc || document;\n\t\tvar injected = document.createElement( 'style' );\n\t\tinjected.type = 'text/css';\n\t\tinjected.innerHTML = cssContent;\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\n\t\ttry {\n\n\t\t\thead.appendChild( injected );\n\n\t\t} catch ( e ) {\n\t\t}\n\n\t}\n};\n\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\nvar ControllerFactory = function ControllerFactory( object, property ) {\n\n\tvar initialValue = object[ property ];\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\n\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\n\n\t}\n\tif ( Common.isNumber( initialValue ) ) {\n\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\n\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\n\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\n\n\t\t\t}\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\n\n\t\t}\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\n\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\n\n\t\t}\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\n\n\t}\n\tif ( Common.isString( initialValue ) ) {\n\n\t\treturn new StringController( object, property );\n\n\t}\n\tif ( Common.isFunction( initialValue ) ) {\n\n\t\treturn new FunctionController( object, property, '' );\n\n\t}\n\tif ( Common.isBoolean( initialValue ) ) {\n\n\t\treturn new BooleanController( object, property );\n\n\t}\n\treturn null;\n\n};\n\nfunction requestAnimationFrame( callback ) {\n\n\tsetTimeout( callback, 1000 / 60 );\n\n}\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\nvar CenteredDiv = function () {\n\n\tfunction CenteredDiv() {\n\n\t\tclassCallCheck( this, CenteredDiv );\n\t\tthis.backgroundElement = document.createElement( 'div' );\n\t\tCommon.extend( this.backgroundElement.style, {\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tdisplay: 'none',\n\t\t\tzIndex: '1000',\n\t\t\topacity: 0,\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\n\t\t\ttransition: 'opacity 0.2s linear'\n\t\t} );\n\t\tdom.makeFullscreen( this.backgroundElement );\n\t\tthis.backgroundElement.style.position = 'fixed';\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tCommon.extend( this.domElement.style, {\n\t\t\tposition: 'fixed',\n\t\t\tdisplay: 'none',\n\t\t\tzIndex: '1001',\n\t\t\topacity: 0,\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\n\t\t} );\n\t\tdocument.body.appendChild( this.backgroundElement );\n\t\tdocument.body.appendChild( this.domElement );\n\t\tvar _this = this;\n\t\tdom.bind( this.backgroundElement, 'click', function () {\n\n\t\t\t_this.hide();\n\n\t\t} );\n\n\t}\n\tcreateClass( CenteredDiv, [ {\n\t\tkey: 'show',\n\t\tvalue: function show() {\n\n\t\t\tvar _this = this;\n\t\t\tthis.backgroundElement.style.display = 'block';\n\t\t\tthis.domElement.style.display = 'block';\n\t\t\tthis.domElement.style.opacity = 0;\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\n\t\t\tthis.layout();\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\n\t\t\t\t_this.domElement.style.opacity = 1;\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\n\n\t\t\t} );\n\n\t\t}\n\t}, {\n\t\tkey: 'hide',\n\t\tvalue: function hide() {\n\n\t\t\tvar _this = this;\n\t\t\tvar hide = function hide() {\n\n\t\t\t\t_this.domElement.style.display = 'none';\n\t\t\t\t_this.backgroundElement.style.display = 'none';\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\n\n\t\t\t};\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\n\t\t\tthis.backgroundElement.style.opacity = 0;\n\t\t\tthis.domElement.style.opacity = 0;\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\n\n\t\t}\n\t}, {\n\t\tkey: 'layout',\n\t\tvalue: function layout() {\n\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\n\n\t\t}\n\t} ] );\n\treturn CenteredDiv;\n\n}();\n\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\n\ncss.inject( styleSheet );\nvar CSS_NAMESPACE = 'dg';\nvar HIDE_KEY_CODE = 72;\nvar CLOSE_BUTTON_HEIGHT = 20;\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\nvar SUPPORTS_LOCAL_STORAGE = function () {\n\n\ttry {\n\n\t\treturn !! window.localStorage;\n\n\t} catch ( e ) {\n\n\t\treturn false;\n\n\t}\n\n}();\nvar SAVE_DIALOGUE = void 0;\nvar autoPlaceVirgin = true;\nvar autoPlaceContainer = void 0;\nvar hide = false;\nvar hideableGuis = [];\nvar GUI = function GUI( pars ) {\n\n\tvar _this = this;\n\tvar params = pars || {};\n\tthis.domElement = document.createElement( 'div' );\n\tthis.__ul = document.createElement( 'ul' );\n\tthis.domElement.appendChild( this.__ul );\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\n\tthis.__folders = {};\n\tthis.__controllers = [];\n\tthis.__rememberedObjects = [];\n\tthis.__rememberedObjectIndecesToControllers = [];\n\tthis.__listening = [];\n\tparams = Common.defaults( params, {\n\t\tcloseOnTop: false,\n\t\tautoPlace: true,\n\t\twidth: GUI.DEFAULT_WIDTH\n\t} );\n\tparams = Common.defaults( params, {\n\t\tresizable: params.autoPlace,\n\t\thideable: params.autoPlace\n\t} );\n\tif ( ! Common.isUndefined( params.load ) ) {\n\n\t\tif ( params.preset ) {\n\n\t\t\tparams.load.preset = params.preset;\n\n\t\t}\n\n\t} else {\n\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n\t}\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\n\n\t\thideableGuis.push( this );\n\n\t}\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\n\n\t\tparams.scrollable = true;\n\n\t}\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\n\tvar saveToLocalStorage = void 0;\n\tvar titleRow = void 0;\n\tObject.defineProperties( this,\n\t\t{\n\t\t\tparent: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.parent;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tscrollable: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.scrollable;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tautoPlace: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.autoPlace;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcloseOnTop: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.closeOnTop;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tpreset: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\tif ( _this.parent ) {\n\n\t\t\t\t\t\treturn _this.getRoot().preset;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn params.load.preset;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tif ( _this.parent ) {\n\n\t\t\t\t\t\t_this.getRoot().preset = v;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tparams.load.preset = v;\n\n\t\t\t\t\t}\n\t\t\t\t\tsetPresetSelectIndex( this );\n\t\t\t\t\t_this.revert();\n\n\t\t\t\t}\n\t\t\t},\n\t\t\twidth: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.width;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.width = v;\n\t\t\t\t\tsetWidth( _this, v );\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tname: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.name;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.name = v;\n\t\t\t\t\tif ( titleRow ) {\n\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tclosed: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.closed;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.closed = v;\n\t\t\t\t\tif ( params.closed ) {\n\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\n\n\t\t\t\t\t}\n\t\t\t\t\tthis.onResize();\n\t\t\t\t\tif ( _this.__closeButton ) {\n\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tload: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.load;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tuseLocalStorage: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn useLocalStorage;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( bool ) {\n\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\t\t\t\t\tuseLocalStorage = bool;\n\t\t\t\t\t\tif ( bool ) {\n\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\tif ( Common.isUndefined( params.parent ) ) {\n\n\t\tthis.closed = params.closed || false;\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\n\t\tdom.makeSelectable( this.domElement, false );\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\t\tif ( useLocalStorage ) {\n\n\t\t\t\t_this.useLocalStorage = true;\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\n\t\t\t\tif ( savedGui ) {\n\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\tthis.__closeButton = document.createElement( 'div' );\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\n\t\tif ( params.closeOnTop ) {\n\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\n\n\t\t} else {\n\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\n\t\t\tthis.domElement.appendChild( this.__closeButton );\n\n\t\t}\n\t\tdom.bind( this.__closeButton, 'click', function () {\n\n\t\t\t_this.closed = ! _this.closed;\n\n\t\t} );\n\n\t} else {\n\n\t\tif ( params.closed === undefined ) {\n\n\t\t\tparams.closed = true;\n\n\t\t}\n\t\tvar titleRowName = document.createTextNode( params.name );\n\t\tdom.addClass( titleRowName, 'controller-name' );\n\t\ttitleRow = addRow( _this, titleRowName );\n\t\tvar onClickTitle = function onClickTitle( e ) {\n\n\t\t\te.preventDefault();\n\t\t\t_this.closed = ! _this.closed;\n\t\t\treturn false;\n\n\t\t};\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\n\t\tdom.addClass( titleRow, 'title' );\n\t\tdom.bind( titleRow, 'click', onClickTitle );\n\t\tif ( ! params.closed ) {\n\n\t\t\tthis.closed = false;\n\n\t\t}\n\n\t}\n\tif ( params.autoPlace ) {\n\n\t\tif ( Common.isUndefined( params.parent ) ) {\n\n\t\t\tif ( autoPlaceVirgin ) {\n\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\n\t\t\t\tautoPlaceVirgin = false;\n\n\t\t\t}\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\n\n\t\t}\n\t\tif ( ! this.parent ) {\n\n\t\t\tsetWidth( _this, params.width );\n\n\t\t}\n\n\t}\n\tthis.__resizeHandler = function () {\n\n\t\t_this.onResizeDebounced();\n\n\t};\n\tdom.bind( window, 'resize', this.__resizeHandler );\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\n\tthis.onResize();\n\tif ( params.resizable ) {\n\n\t\taddResizeHandle( this );\n\n\t}\n\tsaveToLocalStorage = function saveToLocalStorage() {\n\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\n\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\n\n\t\t}\n\n\t};\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\n\tfunction resetWidth() {\n\n\t\tvar root = _this.getRoot();\n\t\troot.width += 1;\n\t\tCommon.defer( function () {\n\n\t\t\troot.width -= 1;\n\n\t\t} );\n\n\t}\n\tif ( ! params.parent ) {\n\n\t\tresetWidth();\n\n\t}\n\n};\nGUI.toggleHide = function () {\n\n\thide = ! hide;\n\tCommon.each( hideableGuis, function ( gui ) {\n\n\t\tgui.domElement.style.display = hide ? 'none' : '';\n\n\t} );\n\n};\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\nGUI._keydownHandler = function ( e ) {\n\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\n\n\t\tGUI.toggleHide();\n\n\t}\n\n};\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\nCommon.extend( GUI.prototype,\n\t{\n\t\tadd: function add( object, property ) {\n\n\t\t\treturn _add( this, object, property, {\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\n\t\t\t} );\n\n\t\t},\n\t\taddColor: function addColor( object, property ) {\n\n\t\t\treturn _add( this, object, property, {\n\t\t\t\tcolor: true\n\t\t\t} );\n\n\t\t},\n\t\tremove: function remove( controller ) {\n\n\t\t\tthis.__ul.removeChild( controller.__li );\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\n\t\t\tvar _this = this;\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.onResize();\n\n\t\t\t} );\n\n\t\t},\n\t\tdestroy: function destroy() {\n\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\n\n\t\t\t}\n\t\t\tif ( this.autoPlace ) {\n\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\n\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\n\n\t\t\t\t_this.removeFolder( subfolder );\n\n\t\t\t} );\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\n\t\t\tremoveListeners( this );\n\n\t\t},\n\t\taddFolder: function addFolder( name ) {\n\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\n\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\n\n\t\t\t}\n\t\t\tvar newGuiParams = { name: name, parent: this };\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\n\t\t\tif ( this.load &&\n    this.load.folders &&\n    this.load.folders[ name ] ) {\n\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\n\n\t\t\t}\n\t\t\tvar gui = new GUI( newGuiParams );\n\t\t\tthis.__folders[ name ] = gui;\n\t\t\tvar li = addRow( this, gui.domElement );\n\t\t\tdom.addClass( li, 'folder' );\n\t\t\treturn gui;\n\n\t\t},\n\t\tremoveFolder: function removeFolder( folder ) {\n\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\n\t\t\tdelete this.__folders[ folder.name ];\n\t\t\tif ( this.load &&\n    this.load.folders &&\n    this.load.folders[ folder.name ] ) {\n\n\t\t\t\tdelete this.load.folders[ folder.name ];\n\n\t\t\t}\n\t\t\tremoveListeners( folder );\n\t\t\tvar _this = this;\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\n\n\t\t\t\tfolder.removeFolder( subfolder );\n\n\t\t\t} );\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.onResize();\n\n\t\t\t} );\n\n\t\t},\n\t\topen: function open() {\n\n\t\t\tthis.closed = false;\n\n\t\t},\n\t\tclose: function close() {\n\n\t\t\tthis.closed = true;\n\n\t\t},\n\t\thide: function hide() {\n\n\t\t\tthis.domElement.style.display = 'none';\n\n\t\t},\n\t\tshow: function show() {\n\n\t\t\tthis.domElement.style.display = '';\n\n\t\t},\n\t\tonResize: function onResize() {\n\n\t\t\tvar root = this.getRoot();\n\t\t\tif ( root.scrollable ) {\n\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\n\t\t\t\tvar h = 0;\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\n\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\n\n\t\t\t\t\t\th += dom.getHeight( node );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\n\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\n\t\t\t\t\troot.__ul.style.height = 'auto';\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif ( root.__resize_handle ) {\n\n\t\t\t\tCommon.defer( function () {\n\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\tif ( root.__closeButton ) {\n\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\n\n\t\t\t}\n\n\t\t},\n\t\tonResizeDebounced: Common.debounce( function () {\n\n\t\t\tthis.onResize();\n\n\t\t}, 50 ),\n\t\tremember: function remember() {\n\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\n\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n\n\t\t\t}\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\n\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\n\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\n\n\t\t\t\t\taddSaveMenu( _this );\n\n\t\t\t\t}\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\n\n\t\t\t\t\t_this.__rememberedObjects.push( object );\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t\tif ( this.autoPlace ) {\n\n\t\t\t\tsetWidth( this, this.width );\n\n\t\t\t}\n\n\t\t},\n\t\tgetRoot: function getRoot() {\n\n\t\t\tvar gui = this;\n\t\t\twhile ( gui.parent ) {\n\n\t\t\t\tgui = gui.parent;\n\n\t\t\t}\n\t\t\treturn gui;\n\n\t\t},\n\t\tgetSaveObject: function getSaveObject() {\n\n\t\t\tvar toReturn = this.load;\n\t\t\ttoReturn.closed = this.closed;\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\n\n\t\t\t\ttoReturn.preset = this.preset;\n\t\t\t\tif ( ! toReturn.remembered ) {\n\n\t\t\t\t\ttoReturn.remembered = {};\n\n\t\t\t\t}\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\n\n\t\t\t}\n\t\t\ttoReturn.folders = {};\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\n\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\n\n\t\t\t} );\n\t\t\treturn toReturn;\n\n\t\t},\n\t\tsave: function save() {\n\n\t\t\tif ( ! this.load.remembered ) {\n\n\t\t\t\tthis.load.remembered = {};\n\n\t\t\t}\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\n\t\t\tmarkPresetModified( this, false );\n\t\t\tthis.saveToLocalStorageIfPossible();\n\n\t\t},\n\t\tsaveAs: function saveAs( presetName ) {\n\n\t\t\tif ( ! this.load.remembered ) {\n\n\t\t\t\tthis.load.remembered = {};\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\n\n\t\t\t}\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\n\t\t\tthis.preset = presetName;\n\t\t\taddPresetOption( this, presetName, true );\n\t\t\tthis.saveToLocalStorageIfPossible();\n\n\t\t},\n\t\trevert: function revert( gui ) {\n\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\n\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\n\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\n\n\t\t\t\t}\n\t\t\t\tif ( controller.__onFinishChange ) {\n\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\n\n\t\t\t\t}\n\n\t\t\t}, this );\n\t\t\tCommon.each( this.__folders, function ( folder ) {\n\n\t\t\t\tfolder.revert( folder );\n\n\t\t\t} );\n\t\t\tif ( ! gui ) {\n\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\n\n\t\t\t}\n\n\t\t},\n\t\tlisten: function listen( controller ) {\n\n\t\t\tvar init = this.__listening.length === 0;\n\t\t\tthis.__listening.push( controller );\n\t\t\tif ( init ) {\n\n\t\t\t\tupdateDisplays( this.__listening );\n\n\t\t\t}\n\n\t\t},\n\t\tupdateDisplay: function updateDisplay() {\n\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\n\n\t\t\t\tcontroller.updateDisplay();\n\n\t\t\t} );\n\t\t\tCommon.each( this.__folders, function ( folder ) {\n\n\t\t\t\tfolder.updateDisplay();\n\n\t\t\t} );\n\n\t\t}\n\t} );\nfunction addRow( gui, newDom, liBefore ) {\n\n\tvar li = document.createElement( 'li' );\n\tif ( newDom ) {\n\n\t\tli.appendChild( newDom );\n\n\t}\n\tif ( liBefore ) {\n\n\t\tgui.__ul.insertBefore( li, liBefore );\n\n\t} else {\n\n\t\tgui.__ul.appendChild( li );\n\n\t}\n\tgui.onResize();\n\treturn li;\n\n}\nfunction removeListeners( gui ) {\n\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\n\tif ( gui.saveToLocalStorageIfPossible ) {\n\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\n\n\t}\n\n}\nfunction markPresetModified( gui, modified ) {\n\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\n\tif ( modified ) {\n\n\t\topt.innerHTML = opt.value + '*';\n\n\t} else {\n\n\t\topt.innerHTML = opt.value;\n\n\t}\n\n}\nfunction augmentController( gui, li, controller ) {\n\n\tcontroller.__li = li;\n\tcontroller.__gui = gui;\n\tCommon.extend( controller, {\n\t\toptions: function options( _options ) {\n\n\t\t\tif ( arguments.length > 1 ) {\n\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\n\t\t\t\tcontroller.remove();\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: nextSibling,\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\n\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\n\t\t\t\tcontroller.remove();\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: _nextSibling,\n\t\t\t\t\tfactoryArgs: [ _options ]\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\t\tname: function name( _name ) {\n\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n\t\t\treturn controller;\n\n\t\t},\n\t\tlisten: function listen() {\n\n\t\t\tcontroller.__gui.listen( controller );\n\t\t\treturn controller;\n\n\t\t},\n\t\tremove: function remove() {\n\n\t\t\tcontroller.__gui.remove( controller );\n\t\t\treturn controller;\n\n\t\t}\n\t} );\n\tif ( controller instanceof NumberControllerSlider ) {\n\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\n\n\t\t\tvar pc = controller[ method ];\n\t\t\tvar pb = box[ method ];\n\t\t\tcontroller[ method ] = box[ method ] = function () {\n\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\n\t\t\t\tpb.apply( box, args );\n\t\t\t\treturn pc.apply( controller, args );\n\n\t\t\t};\n\n\t\t} );\n\t\tdom.addClass( li, 'has-slider' );\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\n\n\t} else if ( controller instanceof NumberControllerBox ) {\n\n\t\tvar r = function r( returned ) {\n\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\n\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\n\t\t\t\tcontroller.remove();\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\n\t\t\t\t} );\n\t\t\t\tnewController.name( oldName );\n\t\t\t\tif ( wasListening ) newController.listen();\n\t\t\t\treturn newController;\n\n\t\t\t}\n\t\t\treturn returned;\n\n\t\t};\n\t\tcontroller.min = Common.compose( r, controller.min );\n\t\tcontroller.max = Common.compose( r, controller.max );\n\n\t} else if ( controller instanceof BooleanController ) {\n\n\t\tdom.bind( li, 'click', function () {\n\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\n\n\t\t} );\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\n\n\t\t\te.stopPropagation();\n\n\t\t} );\n\n\t} else if ( controller instanceof FunctionController ) {\n\n\t\tdom.bind( li, 'click', function () {\n\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\n\n\t\t} );\n\t\tdom.bind( li, 'mouseover', function () {\n\n\t\t\tdom.addClass( controller.__button, 'hover' );\n\n\t\t} );\n\t\tdom.bind( li, 'mouseout', function () {\n\n\t\t\tdom.removeClass( controller.__button, 'hover' );\n\n\t\t} );\n\n\t} else if ( controller instanceof ColorController ) {\n\n\t\tdom.addClass( li, 'color' );\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\n\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\n\t\t\treturn val;\n\n\t\t}, controller.updateDisplay );\n\t\tcontroller.updateDisplay();\n\n\t}\n\tcontroller.setValue = Common.compose( function ( val ) {\n\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\n\n\t\t\tmarkPresetModified( gui.getRoot(), true );\n\n\t\t}\n\t\treturn val;\n\n\t}, controller.setValue );\n\n}\nfunction recallSavedValue( gui, controller ) {\n\n\tvar root = gui.getRoot();\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\n\tif ( matchedIndex !== - 1 ) {\n\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\n\t\tif ( controllerMap === undefined ) {\n\n\t\t\tcontrollerMap = {};\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\n\n\t\t}\n\t\tcontrollerMap[ controller.property ] = controller;\n\t\tif ( root.load && root.load.remembered ) {\n\n\t\t\tvar presetMap = root.load.remembered;\n\t\t\tvar preset = void 0;\n\t\t\tif ( presetMap[ gui.preset ] ) {\n\n\t\t\t\tpreset = presetMap[ gui.preset ];\n\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\n\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\n\n\t\t\t} else {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\n\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\n\t\t\t\tcontroller.initialValue = value;\n\t\t\t\tcontroller.setValue( value );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\nfunction _add( gui, object, property, params ) {\n\n\tif ( object[ property ] === undefined ) {\n\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\n\n\t}\n\tvar controller = void 0;\n\tif ( params.color ) {\n\n\t\tcontroller = new ColorController( object, property );\n\n\t} else {\n\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\n\n\t}\n\tif ( params.before instanceof Controller ) {\n\n\t\tparams.before = params.before.__li;\n\n\t}\n\trecallSavedValue( gui, controller );\n\tdom.addClass( controller.domElement, 'c' );\n\tvar name = document.createElement( 'span' );\n\tdom.addClass( name, 'property-name' );\n\tname.innerHTML = controller.property;\n\tvar container = document.createElement( 'div' );\n\tcontainer.appendChild( name );\n\tcontainer.appendChild( controller.domElement );\n\tvar li = addRow( gui, container, params.before );\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\n\tif ( controller instanceof ColorController ) {\n\n\t\tdom.addClass( li, 'color' );\n\n\t} else {\n\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\n\n\t}\n\taugmentController( gui, li, controller );\n\tgui.__controllers.push( controller );\n\treturn controller;\n\n}\nfunction getLocalStorageHash( gui, key ) {\n\n\treturn document.location.href + '.' + key;\n\n}\nfunction addPresetOption( gui, name, setSelected ) {\n\n\tvar opt = document.createElement( 'option' );\n\topt.innerHTML = name;\n\topt.value = name;\n\tgui.__preset_select.appendChild( opt );\n\tif ( setSelected ) {\n\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n\n\t}\n\n}\nfunction showHideExplain( gui, explain ) {\n\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\n\n}\nfunction addSaveMenu( gui ) {\n\n\tvar div = gui.__save_row = document.createElement( 'li' );\n\tdom.addClass( gui.domElement, 'has-save' );\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\n\tdom.addClass( div, 'save-row' );\n\tvar gears = document.createElement( 'span' );\n\tgears.innerHTML = '&nbsp;';\n\tdom.addClass( gears, 'button gears' );\n\tvar button = document.createElement( 'span' );\n\tbutton.innerHTML = 'Save';\n\tdom.addClass( button, 'button' );\n\tdom.addClass( button, 'save' );\n\tvar button2 = document.createElement( 'span' );\n\tbutton2.innerHTML = 'New';\n\tdom.addClass( button2, 'button' );\n\tdom.addClass( button2, 'save-as' );\n\tvar button3 = document.createElement( 'span' );\n\tbutton3.innerHTML = 'Revert';\n\tdom.addClass( button3, 'button' );\n\tdom.addClass( button3, 'revert' );\n\tvar select = gui.__preset_select = document.createElement( 'select' );\n\tif ( gui.load && gui.load.remembered ) {\n\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\n\n\t\t\taddPresetOption( gui, key, key === gui.preset );\n\n\t\t} );\n\n\t} else {\n\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\n\n\t}\n\tdom.bind( select, 'change', function () {\n\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\n\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\n\n\t\t}\n\t\tgui.preset = this.value;\n\n\t} );\n\tdiv.appendChild( select );\n\tdiv.appendChild( gears );\n\tdiv.appendChild( button );\n\tdiv.appendChild( button2 );\n\tdiv.appendChild( button3 );\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\n\t\tsaveLocally.style.display = 'block';\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\n\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\n\n\t\t}\n\t\tshowHideExplain( gui, explain );\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\n\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\n\t\t\tshowHideExplain( gui, explain );\n\n\t\t} );\n\n\t}\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\n\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\n\n\t\t\tSAVE_DIALOGUE.hide();\n\n\t\t}\n\n\t} );\n\tdom.bind( gears, 'click', function () {\n\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\n\t\tSAVE_DIALOGUE.show();\n\t\tnewConstructorTextArea.focus();\n\t\tnewConstructorTextArea.select();\n\n\t} );\n\tdom.bind( button, 'click', function () {\n\n\t\tgui.save();\n\n\t} );\n\tdom.bind( button2, 'click', function () {\n\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\n\t\tif ( presetName ) {\n\n\t\t\tgui.saveAs( presetName );\n\n\t\t}\n\n\t} );\n\tdom.bind( button3, 'click', function () {\n\n\t\tgui.revert();\n\n\t} );\n\n}\nfunction addResizeHandle( gui ) {\n\n\tvar pmouseX = void 0;\n\tgui.__resize_handle = document.createElement( 'div' );\n\tCommon.extend( gui.__resize_handle.style, {\n\t\twidth: '6px',\n\t\tmarginLeft: '-3px',\n\t\theight: '200px',\n\t\tcursor: 'ew-resize',\n\t\tposition: 'absolute'\n\t} );\n\tfunction drag( e ) {\n\n\t\te.preventDefault();\n\t\tgui.width += pmouseX - e.clientX;\n\t\tgui.onResize();\n\t\tpmouseX = e.clientX;\n\t\treturn false;\n\n\t}\n\tfunction dragStop() {\n\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\n\t\tdom.unbind( window, 'mousemove', drag );\n\t\tdom.unbind( window, 'mouseup', dragStop );\n\n\t}\n\tfunction dragStart( e ) {\n\n\t\te.preventDefault();\n\t\tpmouseX = e.clientX;\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\n\t\tdom.bind( window, 'mousemove', drag );\n\t\tdom.bind( window, 'mouseup', dragStop );\n\t\treturn false;\n\n\t}\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\n\n}\nfunction setWidth( gui, w ) {\n\n\tgui.domElement.style.width = w + 'px';\n\tif ( gui.__save_row && gui.autoPlace ) {\n\n\t\tgui.__save_row.style.width = w + 'px';\n\n\t}\n\tif ( gui.__closeButton ) {\n\n\t\tgui.__closeButton.style.width = w + 'px';\n\n\t}\n\n}\nfunction getCurrentPreset( gui, useInitialValues ) {\n\n\tvar toReturn = {};\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\n\n\t\tvar savedValues = {};\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\n\t\tCommon.each( controllerMap, function ( controller, property ) {\n\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\n\n\t\t} );\n\t\ttoReturn[ index ] = savedValues;\n\n\t} );\n\treturn toReturn;\n\n}\nfunction setPresetSelectIndex( gui ) {\n\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\n\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\n\n\t\t\tgui.__preset_select.selectedIndex = index;\n\n\t\t}\n\n\t}\n\n}\nfunction updateDisplays( controllerArray ) {\n\n\tif ( controllerArray.length !== 0 ) {\n\n\t\trequestAnimationFrame$1.call( window, function () {\n\n\t\t\tupdateDisplays( controllerArray );\n\n\t\t} );\n\n\t}\n\tCommon.each( controllerArray, function ( c ) {\n\n\t\tc.updateDisplay();\n\n\t} );\n\n}\n\nvar color = {\n\tColor: Color,\n\tmath: ColorMath,\n\tinterpret: interpret\n};\nvar controllers = {\n\tController: Controller,\n\tBooleanController: BooleanController,\n\tOptionController: OptionController,\n\tStringController: StringController,\n\tNumberController: NumberController,\n\tNumberControllerBox: NumberControllerBox,\n\tNumberControllerSlider: NumberControllerSlider,\n\tFunctionController: FunctionController,\n\tColorController: ColorController\n};\nvar dom$1 = { dom: dom };\nvar gui = { GUI: GUI };\nvar GUI$1 = GUI;\nvar index = {\n\tcolor: color,\n\tcontrollers: controllers,\n\tdom: dom$1,\n\tgui: gui,\n\tGUI: GUI$1\n};\n\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\nexport default index;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingDataProgress.vue?vue&type=style&index=0&id=7e08a87f&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadingDataProgress.vue?vue&type=style&index=0&id=7e08a87f&scoped=true&lang=stylus&\""],"sourceRoot":""}
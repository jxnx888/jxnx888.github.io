(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4f3b7e5e"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var s=a("1d80"),i="["+a("5899")+"]",n=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),r=function(e){return function(t){var a=String(s(t));return 1&e&&(a=a.replace(n,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:r(1),end:r(2),trim:r(3)}},7156:function(e,t,a){var s=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var n,o;return i&&"function"==typeof(n=t.constructor)&&n!==a&&s(o=n.prototype)&&o!==a.prototype&&i(e,o),e}},8134:function(e,t,a){"use strict";(function(e){a("a9e3"),t.a={name:"forFun",data:function(){return{forFunJson:{},showMenu:!0,showQuize:!1,quizeIndex:1,showResult:!1,nameValid:!1,showConstellation:!1,showQuestions:!1,showSex:!1,constellation:1,showTestIndex:0,sexFlag:"male",currentImg:null,currentResultImg:[],randomIndex:0,currentInput:1,submitTxt:"开始生成",userName:"",canvasImg:""}},methods:{getForFun:function(){this.$ajax.get("/mock/yuandian.json").then(this.getForFunSucc).catch((function(e){console.log("error:"+e)}))},getForFunSucc:function(e){if(console.log(e),200==e.data.code){var t=e.data.data;this.forFunJson=t}},hideSelf:function(){this.$router.push({path:"/projects",query:{jump:"WeChat"}})},showTest:function(e,t,a){if(this.userName="",t){switch(this.currentImg=t,this.currentResultImg=a,this.quizeIndex=Number(e),this.randomIndex=Math.ceil(Math.random()*this.currentResultImg.length)-1,this.showConstellation=!1,this.showQuestions=!1,this.showSex=!1,this.quizeIndex){case 1:break;case 2:this.showConstellation=!0,this.randomIndex=0,this.constellation=1;break;case 3:this.showSex=!0;break;case 7:case 8:this.showConstellation=!0,this.randomIndex=0,this.constellation=1;break;case 9:break;default:console.log("default")}this.showMenu=!1,this.showQuize=!0}else alert("need data, please reload")},generateResult:function(){if(this.userName?this.showResult=!0:this.userName=e("#userInputName").val(),this.userName){switch(this.showQuize=!1,this.showConstellation=!0,this.quizeIndex){case 1:case 2:break;case 3:"male"===this.sexFlag?this.randomIndex=Math.ceil(8*Math.random())-1+6:this.randomIndex=Math.ceil(6*Math.random())-1;break;default:console.log("this.quizeIndex:"+this.quizeIndex)}console.log(this.userName),this.canvasRun()}else this.nameValid=!0},canvasRun:function(){var t=document.getElementById("resultImg"),a=document.getElementById("headImg"),s=document.getElementById("wechatQR"),i=document.getElementById("canvas"),n=i.getContext("2d"),o=t.width,r=t.height;switch(i.width=o,i.height=r,n.drawImage(t,0,0),this.quizeIndex){case 1:n.drawImage(s,500,755,120,120),n.font="bold 40px Courier New",n.fillStyle="#fff",n.textAlign="center",n.fillText(this.userName,320,125);break;case 2:n.drawImage(s,510,870,150,150),n.font="bold 45px Courier New",n.fillStyle="#000",n.fillText(this.userName,450,155);break;case 3:n.drawImage(s,370,780,100,100),n.font="45px Courier New",n.fillStyle="#000",n.textAlign="center",n.fillText(this.userName,315,80);break;case 4:n.drawImage(s,55,830,120,120),this.userName.length<=2?(n.font="bold 60px Courier New",n.fillStyle="#000",n.textAlign="center",n.fillText(this.userName,400,160)):(n.font="bold 45px Courier New",n.fillStyle="#000",n.textAlign="center",n.fillText(this.userName,400,155));break;case 5:n.drawImage(s,260,756,130,130),n.font="  50px Courier New",n.fillStyle="#000",n.textAlign="center",n.fillText(this.userName,320,80);break;case 6:n.drawImage(s,80,800,120,120),n.font="bold 50px Courier New",n.fillStyle="#000",n.textAlign="center",n.fillText(this.userName,320,162);break;case 7:n.drawImage(s,630,910,150,150),n.font="bold 45px Courier New",n.fillStyle="#000",n.textAlign="center",n.fillText(this.userName,400,76);break;case 8:n.drawImage(s,285,987,130,130),n.save(),n.arc(350,735,47,0,2*Math.PI),n.clip(),n.drawImage(a,300,685,100,100),n.restore(),n.font="bold 45px Courier New",n.fillStyle="#fff",n.textAlign="center",n.fillText(this.userName,345,270);break;case 9:n.drawImage(s,500,920,120,120),n.font="bold 50px Courier New",n.fillStyle="#000000",n.textAlign="center",n.fillText(this.userName,310,100);break;default:n.fillStyle="#fff"}var l=document.getElementsByTagName("canvas")[0];this.canvasImg=this.convertCanvasToImage(l),e("#results").html(this.canvasImg)},convertCanvasToImage:function(e){var t=new Image;return t.src=e.toDataURL("image/png"),t},validClick:function(t){this.nameValid=!1,"0"==t&&e("#userInputName").focus()}},mounted:function(){this.getForFun()},watch:{constellation:function(e,t){e&&(this.randomIndex=e-1,console.log("this.randomIndex==="+this.randomIndex))},sexFlag:function(e,t){e&&(this.sexFlag=e,"male"===this.sexFlag?this.randomIndex=Math.ceil(8*Math.random())-1+6:this.randomIndex=Math.ceil(6*Math.random())-1,console.log("this.maleSelect==="+this.sexFlag))}}}}).call(this,a("1157"))},a9e3:function(e,t,a){"use strict";var s=a("83ab"),i=a("da84"),n=a("94ca"),o=a("6eeb"),r=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),m=a("d039"),d=a("7c73"),h=a("241c").f,g=a("06cf").f,f=a("9bf2").f,v=a("58a8").trim,p="Number",x=i[p],w=x.prototype,I=l(d(w))==p,_=function(e){var t,a,s,i,n,o,r,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=v(c)).charCodeAt(0))||45===t){if(88===(a=c.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+c}for(o=(n=c.slice(2)).length,r=0;r<o;r++)if((l=n.charCodeAt(r))<48||l>i)return NaN;return parseInt(n,s)}return+c};if(n(p,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var N,C=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof C&&(I?m((function(){w.valueOf.call(a)})):l(a)!=p)?c(new x(_(t)),a,C):_(t)},b=s?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;b.length>y;y++)r(x,N=b[y])&&!r(C,N)&&f(C,N,g(x,N));C.prototype=w,w.constructor=C,o(i,p,C)}},b155:function(e,t,a){"use strict";a.r(t);var s=a("8134").a,i=(a("ecaf"),a("2877")),n=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainWrapper"},[a("div",{staticClass:"mobile_bg",on:{click:function(t){return e.hideSelf()}}}),a("img",{staticClass:"mobile_module",attrs:{src:"/image/yuandian/iphonex.png",alt:""}}),a("div",{staticClass:"topNav img_wrapper"},[a("img",{attrs:{src:"/image/yuandian/logo.png",alt:""}}),e.showMenu?e._e():a("div",{staticClass:"close_content iconfont",on:{click:function(t){e.showMenu=!0,e.showQuize=!1,e.showResult=!1}}},[e._v("")])]),a("div",{staticClass:"mobileWrapper"},[e.showMenu?a("div",{staticClass:"forFun_menu clearfix"},e._l(e.forFunJson.menu,(function(t,s){return a("div",{key:s,staticClass:"each_top_menu",on:{click:function(a){return e.showTest(t.id,t.bigImgUrl,t.resultImgs)}}},[t.id<7?a("div",{staticClass:"top_menu img_wrapper"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl,expression:"item.imgUrl"}],attrs:{alt:""}}),a("p",{staticClass:"show_test_num"},[a("span",[e._v(e._s(t.testNum))]),e._v("人在测")])]):a("div",{staticClass:"big_menu img_wrapper"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl,expression:"item.imgUrl"}],attrs:{alt:""}}),a("p",{staticClass:"show_test_num"},[a("span",[e._v(e._s(t.testNum))]),e._v("人在玩")])])])})),0):e._e(),e.showQuize?a("div",{staticClass:"forFunContent"},[a("div",{staticClass:"img_wrapper"},[a("img",{attrs:{src:this.currentImg,alt:""}})]),a("div",{staticClass:"inputs name"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",id:"userInputName",placeholder:"姓名：请输入姓名",maxlength:"4"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),e.nameValid?a("div",{staticClass:"name_valid",on:{click:function(t){return e.validClick(0)}}},[e._v("* 请输入姓名")]):e._e()]),e.showSex?a("div",{staticClass:"inputs sex clearfix"},[a("div",{staticClass:"title"},[e._v("性别：")]),a("div",{staticClass:"each_sex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sexFlag,expression:"sexFlag"}],attrs:{type:"radio",id:"male",name:"sex",value:"male",checked:"checked"},domProps:{checked:e._q(e.sexFlag,"male")},on:{change:function(t){e.sexFlag="male"}}}),a("label",{staticClass:"sexLabel"},[e._v("男")])]),a("div",{staticClass:"each_sex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sexFlag,expression:"sexFlag"}],attrs:{type:"radio",id:"female",name:"sex",value:"female"},domProps:{checked:e._q(e.sexFlag,"female")},on:{change:function(t){e.sexFlag="female"}}}),a("label",{staticClass:"sexLabel"},[e._v("女")])])]):e._e(),e.showConstellation?a("div",{staticClass:"inputs constellation"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.constellation,expression:"constellation"}],staticClass:"xingzuo",attrs:{id:"xingzuo"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.constellation=t.target.multiple?a:a[0]}}},[a("option",{attrs:{name:"xingzuo",value:"1"}},[e._v("白羊座 ( 03/21 - 04/19 )")]),a("option",{attrs:{name:"xingzuo",value:"2"}},[e._v("金牛座 ( 04/20 - 05/20)")]),a("option",{attrs:{name:"xingzuo",value:"3"}},[e._v("双子座 ( 05/21 - 06/21)")]),a("option",{attrs:{name:"xingzuo",value:"4"}},[e._v("巨蟹座 ( 06/22 - 07/22)")]),a("option",{attrs:{name:"xingzuo",value:"5"}},[e._v("狮子座 ( 07/23 - 08/22)")]),a("option",{attrs:{name:"xingzuo",value:"6"}},[e._v("处女座 ( 08/23 - 09/22)")]),a("option",{attrs:{name:"xingzuo",value:"7"}},[e._v("天秤座 ( 09/23 - 10/23)")]),a("option",{attrs:{name:"xingzuo",value:"8"}},[e._v("天蝎座 ( 10/24 - 11/22)")]),a("option",{attrs:{name:"xingzuo",value:"9"}},[e._v("射手座 ( 11/23 - 12/21)")]),a("option",{attrs:{name:"xingzuo",value:"10"}},[e._v("魔羯座 ( 12/22 - 01/19)")]),a("option",{attrs:{name:"xingzuo",value:"11"}},[e._v("水瓶座 ( 01/20 - 02/18)")]),a("option",{attrs:{name:"xingzuo",value:"12"}},[e._v("双鱼座 ( 02/19 - 03/20）")])])]):e._e(),e.showQuestions?a("div",{staticClass:"inputs questions"},[a("div",{staticClass:"each_q"})]):e._e(),a("div",{staticClass:"text-center note"},[e._v(" 我们向您保证，用户输入的所有内容只会用于测试，不会将个人信息采集记录。 ")]),a("div",{staticClass:"submit_btn",on:{click:function(t){return e.generateResult()}}},[e._v(e._s(e.submitTxt))])]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showResult,expression:"showResult"}],staticClass:"forFunResult"},[a("div",{staticClass:"resultTitle"},[e._v("长按保存你的结果图片吧")]),a("div",{staticClass:"img_wrapper"},[a("img",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{src:this.currentResultImg[this.randomIndex],id:"resultImg"}}),a("div",{staticStyle:{"text-align":"center",width:"100%"},attrs:{id:"results"}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"canvas"}}),a("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:"/image/footer/wechat_xin.jpg",id:"wechatQR",alt:""}}),a("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:"/image/head_ico.png",id:"headImg",alt:""}})])])])])}),[],!1,null,"df712bca",null);t.default=n.exports},ecaf:function(e,t,a){"use strict";var s=a("ecc1");a.n(s).a},ecc1:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4f3b7e5e.40c6c3ed.js.map
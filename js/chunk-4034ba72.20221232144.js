(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4034ba72"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var s=a("1d80"),a="["+a("5899")+"]",i=RegExp("^"+a+a+"*"),n=RegExp(a+a+"*$"),a=function(t){return function(e){e=String(s(e));return 1&t&&(e=e.replace(i,"")),e=2&t?e.replace(n,""):e}};e.exports={start:a(1),end:a(2),trim:a(3)}},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var s,i;return r&&"function"==typeof(s=t.constructor)&&s!==a&&n(i=s.prototype)&&i!==a.prototype&&r(e,i),e}},8134:function(e,t,a){"use strict";!function(o){a("a9e3"),t.a={name:"forFun",data:function(){return{forFunJson:{},showMenu:!0,showQuize:!1,quizeIndex:1,showResult:!1,nameValid:!1,showConstellation:!1,showQuestions:!1,showSex:!1,constellation:1,showTestIndex:0,sexFlag:"male",currentImg:null,currentResultImg:[],randomIndex:0,currentInput:1,submitTxt:"开始生成",userName:"",canvasImg:""}},methods:{getForFun:function(){this.$ajax.get("/mock/yuandian.json").then(this.getForFunSucc).catch(function(e){})},getForFunSucc:function(e){200==e.data.code&&(e=e.data.data,this.forFunJson=e)},hideSelf:function(){this.$router.push({path:"/projects",query:{jump:"WeChat"}})},showTest:function(e,t,a){if(this.userName="",t){switch(this.currentImg=t,this.currentResultImg=a,this.quizeIndex=Number(e),this.randomIndex=Math.ceil(Math.random()*this.currentResultImg.length)-1,this.showConstellation=!1,this.showQuestions=!1,this.showSex=!1,this.quizeIndex){case 1:break;case 2:this.showConstellation=!0,this.randomIndex=0,this.constellation=1;break;case 3:this.showSex=!0;break;case 7:case 8:this.showConstellation=!0,this.randomIndex=0,this.constellation=1}this.showMenu=!1,this.showQuize=!0}else alert("need data, please reload")},generateResult:function(){if(this.userName?this.showResult=!0:this.userName=o("#userInputName").val(),this.userName){switch(this.showQuize=!1,this.showConstellation=!0,this.quizeIndex){case 1:case 2:break;case 3:"male"===this.sexFlag?this.randomIndex=Math.ceil(8*Math.random())-1+6:this.randomIndex=Math.ceil(6*Math.random())-1}this.canvasRun()}else this.nameValid=!0},canvasRun:function(){var e=document.getElementById("resultImg"),t=document.getElementById("headImg"),a=document.getElementById("wechatQR"),s=document.getElementById("canvas"),i=s.getContext("2d"),n=e.width,r=e.height;switch(s.width=n,s.height=r,i.drawImage(e,0,0),this.quizeIndex){case 1:i.drawImage(a,500,755,120,120),i.font="bold 40px Courier New",i.fillStyle="#fff",i.textAlign="center",i.fillText(this.userName,320,125);break;case 2:i.drawImage(a,510,870,150,150),i.font="bold 45px Courier New",i.fillStyle="#000",i.fillText(this.userName,450,155);break;case 3:i.drawImage(a,370,780,100,100),i.font="45px Courier New",i.fillStyle="#000",i.textAlign="center",i.fillText(this.userName,315,80);break;case 4:i.drawImage(a,55,830,120,120),this.userName.length<=2?(i.font="bold 60px Courier New",i.fillStyle="#000",i.textAlign="center",i.fillText(this.userName,400,160)):(i.font="bold 45px Courier New",i.fillStyle="#000",i.textAlign="center",i.fillText(this.userName,400,155));break;case 5:i.drawImage(a,260,756,130,130),i.font="  50px Courier New",i.fillStyle="#000",i.textAlign="center",i.fillText(this.userName,320,80);break;case 6:i.drawImage(a,80,800,120,120),i.font="bold 50px Courier New",i.fillStyle="#000",i.textAlign="center",i.fillText(this.userName,320,162);break;case 7:i.drawImage(a,630,910,150,150),i.font="bold 45px Courier New",i.fillStyle="#000",i.textAlign="center",i.fillText(this.userName,400,76);break;case 8:i.drawImage(a,285,987,130,130),i.save(),i.arc(350,735,47,0,2*Math.PI),i.clip(),i.drawImage(t,300,685,100,100),i.restore(),i.font="bold 45px Courier New",i.fillStyle="#fff",i.textAlign="center",i.fillText(this.userName,345,270);break;case 9:i.drawImage(a,500,920,120,120),i.font="bold 50px Courier New",i.fillStyle="#000000",i.textAlign="center",i.fillText(this.userName,310,100);break;default:i.fillStyle="#fff"}e=document.getElementsByTagName("canvas")[0];this.canvasImg=this.convertCanvasToImage(e),o("#results").html(this.canvasImg)},convertCanvasToImage:function(e){var t=new Image;return t.src=e.toDataURL("image/png"),t},validClick:function(e){this.nameValid=!1,"0"==e&&o("#userInputName").focus()}},mounted:function(){this.getForFun()},watch:{constellation:function(e,t){e&&(this.randomIndex=e-1)},sexFlag:function(e,t){e&&(this.sexFlag=e,"male"===this.sexFlag?this.randomIndex=Math.ceil(8*Math.random())-1+6:this.randomIndex=Math.ceil(6*Math.random())-1)}}}}.call(this,a("1157"))},a9e3:function(e,t,a){"use strict";function s(e){var t,a,s,i,n,r,o,l=m(e,!1);if("string"==typeof l&&2<l.length)if(43===(t=(l=p(l)).charCodeAt(0))||45===t){if(88===(e=l.charCodeAt(2))||120===e)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+l}for(n=(i=l.slice(2)).length,r=0;r<n;r++)if((o=i.charCodeAt(r))<48||s<o)return NaN;return parseInt(i,a)}return+l}var i=a("83ab"),n=a("da84"),r=a("94ca"),o=a("6eeb"),l=a("5135"),u=a("c6b6"),c=a("7156"),m=a("c04e"),d=a("d039"),h=a("7c73"),g=a("241c").f,v=a("06cf").f,f=a("9bf2").f,p=a("58a8").trim,x="Number",w=n.Number,I=w.prototype,_=u(h(I))==x;if(r(x,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var N,C=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof C&&(_?d(function(){I.valueOf.call(t)}):u(t)!=x)?c(new w(s(e)),t,C):s(e)},b=i?g(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;b.length>y;y++)l(w,N=b[y])&&!l(C,N)&&f(C,N,v(w,N));(C.prototype=I).constructor=C,o(n,x,C)}},b155:function(e,t,a){"use strict";a.r(t);var s=a("8134").a,a=(a("ecaf"),a("2877")),s=Object(a.a)(s,function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"mainWrapper"},[s("div",{staticClass:"mobile_bg",on:{click:function(e){return a.hideSelf()}}}),s("img",{staticClass:"mobile_module",attrs:{src:"/image/yuandian/iphonex.png",alt:""}}),s("div",{staticClass:"topNav img_wrapper"},[s("img",{attrs:{src:"/image/yuandian/logo.png",alt:""}}),a.showMenu?a._e():s("div",{staticClass:"close_content iconfont",on:{click:function(e){a.showMenu=!0,a.showQuize=!1,a.showResult=!1}}},[a._v("")])]),s("div",{staticClass:"mobileWrapper"},[a.showMenu?s("div",{staticClass:"forFun_menu clearfix"},a._l(a.forFunJson.menu,function(t,e){return s("div",{key:e,staticClass:"each_top_menu",on:{click:function(e){return a.showTest(t.id,t.bigImgUrl,t.resultImgs)}}},[t.id<7?s("div",{staticClass:"top_menu img_wrapper"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl,expression:"item.imgUrl"}],attrs:{alt:""}}),s("p",{staticClass:"show_test_num"},[s("span",[a._v(a._s(t.testNum))]),a._v("人在测")])]):s("div",{staticClass:"big_menu img_wrapper"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl,expression:"item.imgUrl"}],attrs:{alt:""}}),s("p",{staticClass:"show_test_num"},[s("span",[a._v(a._s(t.testNum))]),a._v("人在玩")])])])}),0):a._e(),a.showQuize?s("div",{staticClass:"forFunContent"},[s("div",{staticClass:"img_wrapper"},[s("img",{attrs:{src:this.currentImg,alt:""}})]),s("div",{staticClass:"inputs name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.userName,expression:"userName"}],attrs:{type:"text",id:"userInputName",placeholder:"姓名：请输入姓名",maxlength:"4"},domProps:{value:a.userName},on:{input:function(e){e.target.composing||(a.userName=e.target.value)}}}),a.nameValid?s("div",{staticClass:"name_valid",on:{click:function(e){return a.validClick(0)}}},[a._v("* 请输入姓名")]):a._e()]),a.showSex?s("div",{staticClass:"inputs sex clearfix"},[s("div",{staticClass:"title"},[a._v("性别：")]),s("div",{staticClass:"each_sex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.sexFlag,expression:"sexFlag"}],attrs:{type:"radio",id:"male",name:"sex",value:"male",checked:"checked"},domProps:{checked:a._q(a.sexFlag,"male")},on:{change:function(e){a.sexFlag="male"}}}),s("label",{staticClass:"sexLabel"},[a._v("男")])]),s("div",{staticClass:"each_sex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.sexFlag,expression:"sexFlag"}],attrs:{type:"radio",id:"female",name:"sex",value:"female"},domProps:{checked:a._q(a.sexFlag,"female")},on:{change:function(e){a.sexFlag="female"}}}),s("label",{staticClass:"sexLabel"},[a._v("女")])])]):a._e(),a.showConstellation?s("div",{staticClass:"inputs constellation"},[s("select",{directives:[{name:"model",rawName:"v-model",value:a.constellation,expression:"constellation"}],staticClass:"xingzuo",attrs:{id:"xingzuo"},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});a.constellation=e.target.multiple?t:t[0]}}},[s("option",{attrs:{name:"xingzuo",value:"1"}},[a._v("白羊座 ( 03/21 - 04/19 )")]),s("option",{attrs:{name:"xingzuo",value:"2"}},[a._v("金牛座 ( 04/20 - 05/20)")]),s("option",{attrs:{name:"xingzuo",value:"3"}},[a._v("双子座 ( 05/21 - 06/21)")]),s("option",{attrs:{name:"xingzuo",value:"4"}},[a._v("巨蟹座 ( 06/22 - 07/22)")]),s("option",{attrs:{name:"xingzuo",value:"5"}},[a._v("狮子座 ( 07/23 - 08/22)")]),s("option",{attrs:{name:"xingzuo",value:"6"}},[a._v("处女座 ( 08/23 - 09/22)")]),s("option",{attrs:{name:"xingzuo",value:"7"}},[a._v("天秤座 ( 09/23 - 10/23)")]),s("option",{attrs:{name:"xingzuo",value:"8"}},[a._v("天蝎座 ( 10/24 - 11/22)")]),s("option",{attrs:{name:"xingzuo",value:"9"}},[a._v("射手座 ( 11/23 - 12/21)")]),s("option",{attrs:{name:"xingzuo",value:"10"}},[a._v("魔羯座 ( 12/22 - 01/19)")]),s("option",{attrs:{name:"xingzuo",value:"11"}},[a._v("水瓶座 ( 01/20 - 02/18)")]),s("option",{attrs:{name:"xingzuo",value:"12"}},[a._v("双鱼座 ( 02/19 - 03/20）")])])]):a._e(),a.showQuestions?s("div",{staticClass:"inputs questions"},[s("div",{staticClass:"each_q"})]):a._e(),s("div",{staticClass:"text-center note"},[a._v(" 我们向您保证，用户输入的所有内容只会用于测试，不会将个人信息采集记录。 ")]),s("div",{staticClass:"submit_btn",on:{click:function(e){return a.generateResult()}}},[a._v(a._s(a.submitTxt))])]):a._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:a.showResult,expression:"showResult"}],staticClass:"forFunResult"},[s("div",{staticClass:"resultTitle"},[a._v("长按保存你的结果图片吧")]),s("div",{staticClass:"img_wrapper"},[s("img",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{src:this.currentResultImg[this.randomIndex],id:"resultImg"}}),s("div",{staticStyle:{"text-align":"center",width:"100%"},attrs:{id:"results"}}),s("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"canvas"}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:"/image/footer/wechat_xin.jpg",id:"wechatQR",alt:""}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:"/image/head_ico.png",id:"headImg",alt:""}})])])])])},[],!1,null,"df712bca",null);t.default=s.exports},ecaf:function(e,t,a){"use strict";var s=a("ecc1");a.n(s).a},ecc1:function(e,t,a){}}]);